var __spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||((ar=ar||Array.prototype.slice.call(from,0,i))[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},__extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();if("undefined"==typeof jQuery)throw new Error("WUX requires jQuery");jQuery.fn.wuxComponent=function(c){var wc=this.data("wuxComponent");return wc||(c instanceof WUX.WComponent?(this.data("wuxComponent",c),c):(c=null==c||c)?(wc=new WUX.WComponent(this),this.data("wuxComponent",wc),wc):void 0)};var WUX,WuxDOM=function(){function WuxDOM(){}return WuxDOM.onRender=function(handler){WuxDOM.onRenderHandlers.push(handler)},WuxDOM.onUnmount=function(handler){WuxDOM.onUnmountHandlers.push(handler)},WuxDOM.render=function(component,node,before,after){WUX.debug&&console.log("WuxDOM.render "+WUX.str(component)+" on "+WUX.str(node)+"..."),$(document).ready(function(){WUX.global.init(function(){node=node||WuxDOM.lastCtx||$("#view-root"),before&&before(node);var context=WuxDOM.mount(component,node);if(WuxDOM.lastCtx=context,after&&after(node),0<WuxDOM.onRenderHandlers.length){for(var e={component:component instanceof WUX.WComponent?component:null,element:context,target:context.get(0),type:"render"},_i=0,_a=WuxDOM.onRenderHandlers;_i<_a.length;_i++)(0,_a[_i])(e);WuxDOM.onRenderHandlers=[]}})})},WuxDOM.mount=function(e,node){if(node=node||WuxDOM.lastCtx||$("#view-root"),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+"..."),null==e)console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" -> invalid component");else{var ctx="string"==typeof node?node.indexOf("#")<0?$("#"+node):$(node):node;if(ctx.length)return WuxDOM.lastCtx=ctx,e instanceof WUX.WComponent?(e.mount(ctx),ctx.wuxComponent(e)):ctx.append(e),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" completed."),ctx;console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" -> context unavailable")}},WuxDOM.unmount=function(node){node=node||WuxDOM.lastCtx||$("#view-root"),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(node)+"...");var ctx="string"==typeof node?node.indexOf("#")<0?$("#"+node):$(node):node;if(ctx.length){var wcomp=ctx.wuxComponent(!1);if(wcomp&&wcomp.unmount(),ctx.html(""),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(node)+" completed."),0<WuxDOM.onUnmountHandlers.length){for(var e={component:wcomp,element:ctx,target:ctx.get(0),type:"unmount"},_i=0,_a=WuxDOM.onUnmountHandlers;_i<_a.length;_i++)(0,_a[_i])(e);WuxDOM.onUnmountHandlers=[]}return ctx}console.error("WuxDOM.unmount "+WUX.str(node)+" -> node unavailable")},WuxDOM.replace=function(o,e){var node,wcomp;if(e||(e=o,o=void 0),o?"string"==typeof o?(wcomp=WUX.getComponent(o))||(node=wcomp.getContext(),wcomp.unmount()):o instanceof WUX.WComponent?(node=o.getContext(),o.unmount()):(node=o.parent())&&node.html(""):node=WuxDOM.unmount(),(node=node||$("#view-root")).length)return WuxDOM.mount(e,node);console.error("WuxDOM.replace "+WUX.str(node)+" -> node unavailable")},WuxDOM.onRenderHandlers=[],WuxDOM.onUnmountHandlers=[],WuxDOM}();!function(WUX){WUX.debug=!1,WUX.registry=[],WUX.version="1.0.0";var WComponent=function(){function WComponent(id,name,props,classStyle,style,attributes){this.mounted=!1,this.debug=WUX.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),id instanceof jQuery?(this.root=id,this.root&&this.root.length&&(this.mounted=!0),this.debug&&console.log("["+str(this)+"] new wrapper root="+str(this.root))):("string"==typeof id&&(this.id="*"==id?"w"+this.cuid:id),this.name=name||"WComponent",this._classStyle=classStyle,(id=WUX.cls(style))&&(this._classStyle=this._classStyle?this._classStyle+" "+id:id),this._style=WUX.style(style),this._attributes=WUX.attributes(attributes),this.debug&&console.log("["+str(this)+"] new"),this.debug&&console.log("["+str(this)+"] updateProps",props),this.updateProps(props))}return Object.defineProperty(WComponent.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(b){this._visible=b,this.internal&&(this.internal.visible=b),this.root&&this.root.length&&(this._visible?this.root.show():this.root.hide())},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(b){this._enabled=b,this.internal&&(this.internal.enabled=b),this.root&&this.root.length&&this.root.prop("disabled",!this._enabled)},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(s){this._style=WUX.css(this._baseStyle,s),this.internal&&(this.internal.style=s),this.root&&this.root.length&&this.root.attr("style",this._style)},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(s){this.internal&&(this.internal.classStyle=s);var remove=!1,toggle=!1;s&&1<s.length&&"!"==s.charAt(0)?(s=s.substring(1),remove=!0):s&&1<s.length&&"?"==s.charAt(0)&&(s=s.substring(1),toggle=!0),this._classStyle=remove?WUX.removeClass(this._classStyle,s):toggle?WUX.toggleClass(this._classStyle,s):WUX.cls(this._baseClass,s),this.root&&this.root.length&&(remove?this.root.removeClass(s):toggle?this.root.toggleClass(s):this.root.addClass(this._classStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(s){this._attributes=s,this.internal&&(this.internal.attributes=s)},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(s){this._tooltip=s,this.internal&&(this.internal.tooltip=s),this.root&&this.root.length&&this.root.attr("title",this._tooltip)},enumerable:!1,configurable:!0}),WComponent.prototype.css=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];if(!items||0==items.length)return this;var c=cls.apply(void 0,items),c=(c&&(this.classStyle=c),css.apply(void 0,items));return c&&(this.style=c),this},WComponent.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root&&this.root.length&&this.root.focus(),this},WComponent.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root&&this.root.length&&this.root.blur(),this},WComponent.prototype.forceUpdate=function(callback){return this.update(this.props,this.state,!1,!1,!0,callback),this},WComponent.prototype.getContext=function(){return this.context},WComponent.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot();if(this.root)return this.root;if(this.id){var $id=$("#"+this.id);if($id.length)return $id}return this.context},WComponent.prototype.getState=function(){return this.state},WComponent.prototype.setState=function(nextState,force,callback){return this.debug&&console.log("["+str(this)+"] setState",nextState),this.update(this.props,nextState,!1,!0,this.forceOnChange||force,callback),this},WComponent.prototype.getProps=function(){return this.props},WComponent.prototype.setProps=function(nextProps,force,callback){return this.debug&&console.log("["+str(this)+"] setProps",nextProps),this.update(nextProps,this.state,!0,!1,this.forceOnChange||force,callback),this},WComponent.prototype.on=function(events,handler){if(!events)return this;for(var _i=0,arrayEvents_1=events.split(" ");_i<arrayEvents_1.length;_i++){var event_1=arrayEvents_1[_i];this.handlers[event_1]||(this.handlers[event_1]=[]),this.handlers[event_1].push(handler)}return this.internal&&this.internal.on(events,handler),this.root&&this.root.length&&this.root.on(events,handler),this},WComponent.prototype.off=function(events){if(events)for(var _i=0,arrayEvents_2=events.split(" ");_i<arrayEvents_2.length;_i++){var event_2=arrayEvents_2[_i];delete this.handlers[event_2]}else this.handlers={};return this.internal&&this.internal.off(events),this.root&&this.root.length&&this.root.off(events),this},WComponent.prototype.trigger=function(eventType){for(var extParams=[],_i=1;_i<arguments.length;_i++)extParams[_i-1]=arguments[_i];if(this.debug&&console.log("["+str(this)+"] trigger",eventType,extParams),eventType){var ep0=extParams&&0<extParams.length?extParams[0]:void 0;if("_"==eventType.charAt(0)||"mount"==eventType||"unmount"==eventType||"statechange"==eventType||"propschange"==eventType){if(void 0!==ep0&&("statechange"==eventType?this.state!=extParams[0]&&(this.state=extParams[0],this.debug&&console.log("["+str(this)+"] trigger set state",this.state)):"propschange"==eventType&&this.props!=extParams[0]&&(this.props=extParams[0],this.debug&&console.log("["+str(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[eventType])return this;for(var event_3=this.createEvent(eventType,ep0),_c=0,_d=this.handlers[eventType];_c<_d.length;_c++)(0,_d[_c])(event_3)}else this.root&&this.root.length&&(this.debug&&console.log("["+str(this)+"] trigger "+eventType+" on root="+str(this.root)),(ep0=this.root).trigger.apply(ep0,__spreadArray([eventType],extParams,!1)));return this.internal&&(this.debug&&console.log("["+str(this)+"] trigger "+eventType+" on internal="+str(this.internal)),(ep0=this.internal).trigger.apply(ep0,__spreadArray([eventType],extParams,!1))),this}},WComponent.prototype.unmount=function(){var idx;return this.debug&&console.log("["+str(this)+"] unmount ctx="+str(this.context)+" root="+str(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.length&&this.root.remove(),this.root=void 0,this.id&&0<=(idx=WUX.registry.indexOf(this.id))&&WUX.registry.splice(idx,1),this.mounted=!1,this.trigger("unmount"),this},WComponent.prototype.mount=function(context){this.debug&&console.log("["+str(this)+"] mount ctx="+str(context)+" root="+str(this.root),this.state,this.props),this.id||this.root&&this.root.length&&(this.id=this.root.attr("id")),context&&context.length&&(this.context=context),this.context||this.root&&this.root.length&&(this.context=this.root.parent(),this.context||(this.context=this.root));try{var r,_a,b,$r,a,wci;if(this.mounted&&this.unmount(),this.mounted=!1,this.context&&this.context.length||($id=$("#"+this.id)).length&&(this.context=$id),this.debug&&console.log("["+str(this)+"] componentWillMount ctx="+str(context)+" root="+str(this.root)),this.componentWillMount(),this.context&&this.context.length&&(this.debug&&console.log("["+str(this)+"] render ctx="+str(context)+" root="+str(this.root)),null!=(r=this.render())?r instanceof WComponent?(this.debug&&console.log("["+str(this)+"] render -> "+str(r)),(this.internal=r).parent||(r.parent=this),r.mount(this.context),this.root||(this.id?($id=$("#"+this.id),this.root=$id.length?$id:this.internal.getRoot()):this.root=this.context)):r instanceof jQuery?(this.context.append(r),this.root||(this.root=r)):(b=(_a=parse(r))[0],$r=_a[1],a=_a[2],b&&this.context.append(b),this.context.append($r),a&&this.context.append(a),this.root||(this.root=this.id?$("#"+this.id):$r)):(this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?$("#"+this.id):this.context))),this._visible||(this.internal?this.internal.visible=!1:this.root.hide()),this._enabled||(this.internal?this.internal.enabled=!1:this.root.prop("disabled",!0)),this.debug&&console.log("["+str(this)+"] componentDidMount ctx="+str(context)+" root="+str(this.root)),this.componentDidMount(),this.root&&this.root.length)for(var event_4 in this.handlers)if(event_4&&"_"!=event_4.charAt(0)&&"mount"!=event_4&&"unmount"!=event_4&&"statechange"!=event_4&&"propschange"!=event_4)for(var _i=0,_b=this.handlers[event_4];_i<_b.length;_i++){var handler=_b[_i];this.root.on(event_4,handler)}this.root.wuxComponent(this),this.mounted=!0,!this.id||this.internal&&this.internal.id==this.id||(0<=WUX.registry.indexOf(this.id)?(wci=WUX.getComponent(this.id))&&wci.cuid!=this.cuid&&console.error("["+str(this)+"] id already used by "+str(wci)):WUX.registry.push(this.id)),this.trigger("mount")}catch(e){var $id=str(this)+" "+str(this.context);console.error("["+str(this)+"] mount error "+$id,e),this.componentDidCatch(e,$id)}return this},WComponent.prototype.componentWillUnmount=function(){},WComponent.prototype.componentWillMount=function(){},WComponent.prototype.render=function(){return this.buildRoot(this.rootTag)},WComponent.prototype.componentDidMount=function(){},WComponent.prototype.componentDidCatch=function(error,errorInfo){},WComponent.prototype.shouldComponentUpdate=function(nextProps,nextState){return"object"==typeof nextProps||"object"==typeof nextState||(this.props!=nextProps||this.state!=nextState)},WComponent.prototype.componentWillUpdate=function(nextProps,nextState){},WComponent.prototype.componentDidUpdate=function(prevProps,prevState){},WComponent.prototype.updateProps=function(nextProps){this.props=nextProps},WComponent.prototype.updateState=function(nextState){this.state=nextState},WComponent.prototype.update=function(nextProps,nextState,propsChange,stateChange,force,callback){void 0===force&&(force=!1),this.debug&&console.log("["+str(this)+"] update",nextProps,nextState,"propsChange="+propsChange+",stateChange="+stateChange+",force="+force),nextProps=void 0===nextProps?this.props:nextProps;var prevProps=this.props,prevState=this.state;if(this.dontTrigger=!1,this.mounted){if(force||this.shouldComponentUpdate(nextProps,nextState)){try{this.debug&&console.log("["+str(this)+"] componentWillUpdate",nextProps,nextState),this.componentWillUpdate(nextProps,nextState),propsChange&&(this.debug&&console.log("["+str(this)+"] updateProps",nextProps),this.updateProps(nextProps)),stateChange&&(this.debug&&console.log("["+str(this)+"] updateState",nextState),this.updateState(nextState)),force&&this.mount(),this.debug&&console.log("["+str(this)+"] componentDidUpdate",prevProps,prevState),this.componentDidUpdate(prevProps,prevState),propsChange&&!this.dontTrigger&&this.trigger("propschange"),stateChange&&!this.dontTrigger&&this.trigger("statechange")}catch(e){return this.componentDidCatch(e,str(this)+"|"+str(this.context)),!1}callback&&callback()}}else propsChange&&(this.debug&&console.log("["+str(this)+"] updateProps",nextProps),this.updateProps(nextProps),this.dontTrigger||this.trigger("propschange")),stateChange&&(this.debug&&console.log("["+str(this)+"] updateState",nextState),this.updateState(nextState),this.dontTrigger||this.trigger("statechange"));return!0},WComponent.prototype.createEvent=function(type,data){var target=this.root&&this.root.length?this.root.get(0):this.root;return{component:this,element:this.root,target:target,type:type,data:data}},WComponent.prototype.shouldBuildRoot=function(){if(this.internal)return!1;if(this.root&&this.root.length)return!1;if(this.context&&this.context.length){var ctxId=this.context.attr("id");if(!ctxId&&ctxId==this.id)return!1}return!0},WComponent.prototype.buildRoot=function(tagName,inner,baseAttribs,classStyle,style,attributes,id){if(this.debug&&console.log("["+str(this)+"] buildRoot",tagName,inner,baseAttribs,classStyle,style,attributes,id),this.shouldBuildRoot())return this.debug&&console.log("["+str(this)+"] shouldBuildRoot() -> true"),this.build(tagName,inner,baseAttribs,classStyle,style,attributes,id);this.debug&&console.log("["+str(this)+"] shouldBuildRoot() -> false")},WComponent.prototype.build=function(tagName,inner,baseAttribs,classStyle,style,attributes,id){void 0===classStyle&&(classStyle=this._classStyle),void 0===style&&(style=this._style),void 0===attributes&&(attributes=this._attributes);var r="<"+(tagName=tagName||"div"),id=((id=void 0===id?this.id:id)&&(r+=' id="'+id+'"'),classStyle&&(r+=' class="'+classStyle+'"'),style&&(r+=' style="'+style+'"'),WUX.attributes(attributes)),classStyle=(id&&(r+=" "+id),WUX.attributes(baseAttribs)),style=(classStyle&&(r+=" "+classStyle),r+=">",divide(null==inner?this.make():inner));return r+=style[1],"input"==tagName?style[0]+r+style[2]:style[0]+(r+="</"+tagName+">")+style[2]},WComponent.prototype.make=function(){return""},WComponent.prototype.subId=function(id,s){var cid;return id instanceof WComponent?!(cid=id.id)||!this.id||0!=cid.indexOf(this.id+"-")?cid:cid.substring(this.id.length+1):(this.id&&"*"!=this.id||(this.id="w"+this.cuid),id&&"*"!=id||(id=(this.subSeq++).toString()),s||0==s?this.id+"-"+id+"-"+s:this.id+"-"+id)},WComponent.prototype.ripId=function(sid){return sid&&this.id&&0==sid.indexOf(this.id)&&sid.length>this.id.length+1?sid.substring(this.id.length+1):sid},WComponent.prototype.transferTo=function(dest,force,callback){return this.debug&&console.log("["+str(this)+"] transferTo "+str(dest)),!!dest&&(dest.setState(this.getState(),force,callback),!0)},WComponent}(),WUtil=(WUX.WComponent=WComponent,!function(WInputType){WInputType.Text="text",WInputType.Number="number",WInputType.Password="password",WInputType.CheckBox="checkbox",WInputType.Radio="radio",WInputType.Date="date",WInputType.DateTime="datetime",WInputType.Time="time",WInputType.File="file",WInputType.Image="image",WInputType.Color="color",WInputType.Email="email",WInputType.Url="url",WInputType.Month="month",WInputType.Week="week",WInputType.Search="search",WInputType.Hidden="hidden",WInputType.Note="note",WInputType.Select="select",WInputType.Static="static",WInputType.Component="component",WInputType.Blank="blank",WInputType.Link="link",WInputType.Integer="integer",WInputType.TreeSelect="tree"}(WUX.WInputType||(WUX.WInputType={})),function(){function WUtil(){}return WUtil.toArrayComponent=function(a){if(!a)return[];if(Array.isArray(a)&&a.length)return a[0]instanceof WComponent?a:[];var r=[];return a instanceof WComponent&&r.push(a),r},WUtil.hasComponents=function(a){return!!a&&(Array.isArray(a)&&a.length?a[0]instanceof WComponent:a instanceof WComponent)},WUtil.toArray=function(a){if(null==(a=a instanceof WComponent?a.getState():a))return[];if(Array.isArray(a))return a;var r=[];return r.push(a),r},WUtil.toArrayNumber=function(a,nz){if(null==(a=a instanceof WComponent?a.getState():a))return[];var r=[];if(Array.isArray(a))for(var _i=0,a_1=a;_i<a_1.length;_i++){var e=a_1[_i],n=WUtil.toNumber(e);nz&&!n||r.push(n)}else{n=WUtil.toNumber(a);if(nz&&!n)return r;r.push(n)}return r},WUtil.toArrayString=function(a,ne){if(null==(a=a instanceof WComponent?a.getState():a))return[];var r=[];if(Array.isArray(a))for(var _i=0,a_2=a;_i<a_2.length;_i++){var e=a_2[_i],s=WUtil.toString(e);ne&&!s||r.push(s)}else{s=WUtil.toString(a);if(ne&&!s)return r;r.push(WUtil.toString(a))}return r},WUtil.splitNumbers=function(a,s){if(!a)return[];for(var r=[],_i=0,aos_1=WUtil.toString(a).split(s);_i<aos_1.length;_i++){var e=aos_1[_i];r.push(WUtil.toNumber(e))}return r},WUtil.toObject=function(a,d){return null!=(a=a instanceof WComponent?a.getState():a)&&"object"==typeof a?a:d},WUtil.toString=function(a,d){return void 0===d&&(d=""),null==(a=a instanceof WComponent?a.getState():a)?d:"string"==typeof a?a:a instanceof Date?WUX.formatDate(a):"object"==typeof a&&null!=a.id?WUtil.toString(a.id,d):Array.isArray(a)&&a.length?WUtil.toString(a[0],d):""+a},WUtil.toText=function(a,d){return WUtil.toString(a,d=void 0===d?"":d).replace("<","&lt;").replace(">","&gt;")},WUtil.toNumber=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if("number"==typeof a)return a;if(a instanceof Date)return 1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate();if("object"==typeof a&&null!=a.id)return WUtil.toNumber(a.id,d);if(Array.isArray(a)&&a.length)return WUtil.toNumber(a[0],d);a=(""+a).trim(),a=((a=(a=0<=a.indexOf(".")&&0<=a.indexOf(",")?a.replace(".",""):a).replace(",",".")).indexOf(".")>=d?parseFloat:parseInt)(a);return isNaN(a)?d:a},WUtil.toInt=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if("number"==typeof a)return Math.floor(a);if(a instanceof Date)return 1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate();if("object"==typeof a&&null!=a.id)return WUtil.toInt(a.id,d);if(Array.isArray(a)&&a.length)return WUtil.toInt(a[0],d);a=(""+a).replace(",","."),a=parseInt(a);return isNaN(a)?d:a},WUtil.toIntTime=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if(a instanceof Date)return 100*a.getHours()+a.getMinutes();if(Array.isArray(a)&&a.length)return WUtil.toIntTime(a[0],d);a=(""+a).replace(":","").replace(".","").replace(",",""),a=parseInt(a);return isNaN(a)?d:a},WUtil.isNumeric=function(a){return!isNaN(a)},WUtil.checkEmail=function(e){if(!e)return"";e=WUtil.toString(e);if(!e)return"";if(e.length<5)return"";var a=e.indexOf("@");return a<=0||e.lastIndexOf(".")<a?"":e.trim().toLowerCase()},WUtil.starts=function(a,s){return!(!a||null==s)&&0==WUtil.toString(a).indexOf(s)},WUtil.ends=function(a,s){if(!a||null==s)return!1;var a=WUtil.toString(a),i=a.lastIndexOf(s);return!(i<0)&&i==a.length-s.length},WUtil.isEmpty=function(a){if(!a)return!0;if(Array.isArray(a)&&!a.length)return!0;if("object"!=typeof a)return!1;for(var k in a)if(a.hasOwnProperty(k))return!1;return!0},WUtil.toBoolean=function(a,d){return void 0===d&&(d=!1),null==(a=(a=a instanceof WUX.WCheck?a.getProps():a)instanceof WComponent?a.getState():a)?d:"boolean"==typeof a?a:"string"==typeof a&&a.length?0<="1YyTtSs".indexOf(a.charAt(0)):!!d},WUtil.toDate=function(a,d){if(null==(a=a instanceof WComponent?a.getState():a))return d;if(a instanceof Date)return a;if("number"==typeof a)return a<10000101?d:new Date(a/1e4,a%1e4/100-1,a%1e4%100);if("string"!=typeof a)return d;if(a.length<8)return d;var sd=a.indexOf(",");return 3<(a=0<=sd?a.substring(sd+1):a).indexOf("-")?new Date(a.trim()):this.isNumeric(a)?(sd=parseInt(a))<10000101?d:new Date(sd/1e4,sd%1e4/100-1,sd%1e4%100):new Date(a.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))},WUtil.getWeek=function(a){var a=a instanceof Date?new Date(a.getTime()):WUtil.toDate(a),w1=((a=a||new Date).setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7),new Date(a.getFullYear(),0,4));return 1+Math.round(((a.getTime()-w1.getTime())/864e5-3+(w1.getDay()+6)%7)/7)},WUtil.getParam=function(name,url){url=url||window.location.href,name=name.replace(/[\[\]]/g,"\\$&");name=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return name&&name[2]?decodeURIComponent(name[2].replace(/\+/g," ")):""},WUtil.size=function(a){if(!a)return 0;if(Array.isArray(a))return a.length;if("object"!=typeof a)return 0;var k,r=0;for(k in a)a.hasOwnProperty(k)&&r++;return r},WUtil.setValue=function(a,k,v){return"object"==typeof a&&(a[k]=v),a},WUtil.getValue=function(a,k,d){return k?Array.isArray(a)&&a.length?"-1"==k?WUtil.getLast(a,d):WUtil.isNumeric(k)?WUtil.getItem(a,WUtil.toInt(k),d):WUtil.getValue(a[0],k,d):"object"==typeof a?(sep=k.indexOf("."),null==a[k]&&0<sep?null==a[sub=k.substring(0,sep)]?d:WUtil.getValue(a[sub],k.substring(sep+1),d):null==a[k]?d:a[k]):d:d;var sep,sub},WUtil.getItem=function(a,i,d){return i<0||!(Array.isArray(a)&&a.length>i&&null!=(r=a[i]))?d:r;var r},WUtil.getEntity=function(a){for(var r,id,k=[],_i=1;_i<arguments.length;_i++)k[_i-1]=arguments[_i];if(!a)return null;if(Array.isArray(a))return(id=a[0])?((r={id:id}).text=WUtil.toString(a[1]),null!=a[2]&&(r.code=a[2]),null!=a[3]&&(r.group=a[3]),null!=a[4]&&(r.type=a[4]),null!=a[5]&&(r.date=WUtil.toDate(a[5])),null!=a[6]&&(r.reference=a[6]),null!=a[7]&&(r.value=WUtil.toNumber(a[7])),r):null;if(!k||!k.length)return null;if(k[0]){if(!(id=WUtil.getValue(a,k[0])))return null;r={id:id}}return r?(k[1]&&(r.text=WUtil.getString(a,k[1])),k[2]&&(r.code=WUtil.getValue(a,k[2])),k[3]&&(r.group=WUtil.getValue(a,k[3])),k[4]&&(r.type=WUtil.getValue(a,k[4])),k[5]&&(r.date=WUtil.getDate(a,k[5])),k[6]&&(r.reference=WUtil.getValue(a,k[6])),k[7]&&(r.value=WUtil.getNumber(a,k[7])),r):null},WUtil.toEntity=function(a,m){if(!a||!m||!m.id)return null;var r={id:WUtil.getValue(a,m.id)};return m.text&&(r.text=WUtil.getString(a,m.text)),m.code&&(r.code=WUtil.getValue(a,m.code)),m.group&&(r.group=WUtil.getValue(a,m.group)),m.type&&(r.type=WUtil.getValue(a,m.type)),m.reference&&(r.reference=WUtil.getValue(a,m.reference)),m.enabled&&(r.enabled=WUtil.getBoolean(a,m.enabled)),m.marked&&(r.marked=WUtil.getBoolean(a,m.marked)),m.date&&(r.date=WUtil.getDate(a,m.date)),m.notBefore&&(r.notBefore=WUtil.getDate(a,m.notBefore)),m.expires&&(r.expires=WUtil.getDate(a,m.expires)),m.icon&&(r.icon=WUtil.getString(a,m.icon)),m.color&&(r.color=WUtil.getString(a,m.color)),m.value&&(r.value=WUtil.getNumber(a,m.value)),r},WUtil.getFirst=function(a,d){return!(Array.isArray(a)&&0<a.length&&null!=(a=a[0]))?d:a},WUtil.getLast=function(a,d){return!(Array.isArray(a)&&0<a.length&&null!=(a=a[a.length-1]))?d:a},WUtil.toCode=function(a,d){return void 0===d&&(d=""),null==(a=a instanceof WComponent?a.getState():a)?d:"string"==typeof a?a:"object"==typeof a&&null!=a.code?a.code:Array.isArray(a)&&a.length?1<a.length?a[1]:a[0]:a},WUtil.toDesc=function(a,d){return void 0===d&&(d=""),null==(a=a instanceof WComponent?a.getState():a)?d:"string"==typeof a?a:"object"==typeof a&&null!=a.text?WUtil.toString(a.text,d):Array.isArray(a)&&a.length?WUtil.toString(a[a.length-1],d):WUtil.toString(a,d)},WUtil.getNumber=function(a,k,d){return WUtil.toNumber(WUtil.getValue(a,k,d))},WUtil.getInt=function(a,k,d){return WUtil.toInt(WUtil.getValue(a,k,d))},WUtil.getString=function(a,k,d,f){a=WUtil.getValue(a,k);return null==a?d:f?"?"==f?"number"==typeof a?WUX.formatNum(a):WUtil.toString(a):"c"==f?WUX.formatCurr(a):"c5"==f?WUX.formatCurr5(a):"n"==f?WUX.formatNum(a):"n2"==f?WUX.formatNum2(a):"m"==f?WUX.formatMonth(a):"d"==f?WUX.formatDate(a):"dt"==f?WUX.formatDateTime(a):"t"==f?WUX.formatTime(a):WUtil.toString(a):WUtil.toString(a)},WUtil.getText=function(a,k,d){return WUtil.toText(WUtil.getValue(a,k,d))},WUtil.getBoolean=function(a,k,d){return WUtil.toBoolean(WUtil.getValue(a,k,d))},WUtil.getDate=function(a,k,d){return WUtil.toDate(WUtil.getValue(a,k,d))},WUtil.getArray=function(a,k){return WUtil.toArray(WUtil.getValue(a,k))},WUtil.getArrayNumber=function(a,k,nz){return WUtil.toArrayNumber(WUtil.getValue(a,k),nz)},WUtil.getArrayString=function(a,k,ne){return WUtil.toArrayString(WUtil.getValue(a,k),ne)},WUtil.getCode=function(a,k,d){return WUtil.toCode(WUtil.getValue(a,k,d))},WUtil.getDesc=function(a,k,d){return WUtil.toDesc(WUtil.getValue(a,k,d))},WUtil.getObject=function(a,k,n){a=WUtil.toObject(WUtil.getValue(a,k));return!a&&n?{}:a},WUtil.sort=function(a,t,k){if(void 0===t&&(t=!0),!a)return[];a=WUtil.toArray(a);if(!k)return r_1=a.sort(),t?r_1:r_1.reverse();var r_1=a.sort(function(a,b){a=WUtil.getValue(a,k),b=WUtil.getValue(b,k);return a<b?-1:b<a?1:0});return t?r_1:r_1.reverse()},WUtil.find=function(a,k,v){if(!a||!k)return null;for(var _i=0,y_1=WUtil.toArray(a);_i<y_1.length;_i++){var i=y_1[_i],w=WUtil.getValue(i,k);if(w instanceof Date&&v instanceof Date&&w.getTime()==v.getTime())return i;if(w==v)return i}return null},WUtil.indexOf=function(a,k,v){if(!a||!k)return-1;for(var y=WUtil.toArray(a),i=0;i<y.length;i++){var w=WUtil.getValue(y[i],k);if(w instanceof Date&&v instanceof Date&&w.getTime()==v.getTime())return i;if(w==v)return i}return-1},WUtil.isSameDate=function(a,b){return this.toNumber(a)==this.toNumber(b)},WUtil.indexOfDate=function(a,v){if(!a||!v)return-1;for(var vi=WUtil.toNumber(v),i=0;i<a.length;i++)if(a[i]&&WUtil.toNumber(a[i])==vi)return i;return-1},WUtil.round2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.round(100*a)/100},WUtil.floor2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.floor(100*a)/100},WUtil.ceil2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.ceil(100*a)/100},WUtil.compare2=function(a,b){if(!a&&!b)return 0;a=Math.round(100*WUtil.toNumber(a)),b=Math.round(100*WUtil.toNumber(b));return a==b?0:b<a?1:-1},WUtil.compare5=function(a,b){if(!a&&!b)return 0;a=Math.round(1e4*WUtil.toNumber(a)),b=Math.round(1e4*WUtil.toNumber(b));return a==b?0:b<a?1:-1},WUtil.getCurrDate=function(d,m,y,f,l){var r=new Date;return r.setHours(0,0,0,0),d&&r.setDate(r.getDate()+d),m&&r.setMonth(r.getMonth()+m),y&&r.setFullYear(r.getFullYear()+y),f&&r.setDate(1),l&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},WUtil.calcDate=function(r,d,m,y,f,l){return(r=r?new Date(r.getTime()):new Date).setHours(0,0,0,0),d&&r.setDate(r.getDate()+d),m&&r.setMonth(r.getMonth()+m),y&&r.setFullYear(r.getFullYear()+y),f&&r.setDate(1),l&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},WUtil.timestamp=function(dt){var dt=dt?WUtil.toDate(dt):new Date,sy=""+(dt=dt||new Date).getFullYear(),nm=dt.getMonth()+1,nm=nm<10?"0"+nm:""+nm,nd=dt.getDate(),nd=nd<10?"0"+nd:""+nd,nh=dt.getHours(),nh=nh<10?"0"+nh:""+nh,np=dt.getMinutes(),np=np<10?"0"+np:""+np,dt=dt.getSeconds();return sy+nm+nd+nh+np+(dt<10?"0"+dt:""+dt)},WUtil.nvl=function(){for(var v=[],_i=0;_i<arguments.length;_i++)v[_i]=arguments[_i];if(v){for(var _a=0,v_1=v;_a<v_1.length;_a++){var e=v_1[_a];if(!e)return e}return v[0]}},WUtil.eqValues=function(o1,o2){for(var keys=[],_i=2;_i<arguments.length;_i++)keys[_i-2]=arguments[_i];if(!o1&&!o2)return!0;if(!o1||!o2)return!1;for(var _a=0,keys_1=keys;_a<keys_1.length;_a++){var k=keys_1[_a];if(o1[k]!=o2[k])return!1}return!0},WUtil.cat=function(t1,t2,s,b,a){var t1=WUtil.toString(t1),t2=WUtil.toString(t2),s=WUtil.toString(s),b=WUtil.toString(b),a=WUtil.toString(a),r="";return t1&&(r+=t1,s&&(r+=s)),t2&&(b&&(r+=b),r+=t2,a&&(r+=a)),r},WUtil.col=function(tuples,i,d){var r=[];if(!tuples||!tuples.length)return r;for(var _i=0,tuples_1=tuples;_i<tuples_1.length;_i++){var e=tuples_1[_i];r.push(WUtil.getItem(e,i,d))}return r},WUtil.getSortedKeys=function(map){if(!map)return[];var key,r=[];for(key in map)map.hasOwnProperty(key)&&r.push(key);return r.sort()},WUtil.diffMinutes=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date;return(ah.getTime()-al.getTime())/6e4},WUtil.diffHours=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date;return(ah.getTime()-al.getTime())/36e5},WUtil.diffDays=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date,ah=ah.getTime()-al.getTime(),al=ah/864e5;return 12<ah%864e5/6e4&&al++,al},WUtil}());function getId(e){if(e){if(e instanceof jQuery)return e.attr("id");if(e instanceof WComponent)return e.id;if("string"==typeof e&&e.indexOf("<")<0)return 0==e.indexOf("#")?e.substring(1):e;if("object"==typeof e&&!e.id)return""+e.id;var t,e=$(e),id=e.attr("id");return id||("i"!=(t=e.prop("tagName"))&&"I"!=t||(id=e.parent().attr("id"))),id}}function parse(s){if(!s)return["",$("<span></span>"),""];if("string"!=typeof s)return s instanceof jQuery?["",s,""]:["",$("<span>"+s+"</span>"),""];if("<"==s.charAt(0)&&">"==s.charAt(s.length-1))return["",$(s),""];var st=s.indexOf("<");if(st<0)return["",$("<span>"+s.replace(">","&gt;")+"</span>"),""];var et=s.lastIndexOf(">");return et<0?["",$("<span>"+s.replace("<","&lt;")+"</span>"),""]:[s.substring(0,st),$(s.substring(st,et+1)),s.substring(et+1)]}function divide(s){if(!s)return["","",""];if(" "==s)return["","&nbsp;",""];var b=" "==s.charAt(0)?"&nbsp;":"",a=1<s.length&&" "==s.charAt(s.length-1)?"&nbsp;":"",ss=s.trim().split("<>");return!ss||ss.length<2?[b,s.trim(),a]:(b+=ss[0],2==ss.length?[b,ss[1],""]:(a+=ss[2],[b,ss[1],a]))}function str(a){var wcdn,wcid;return a instanceof WComponent?(wcdn=(wcdn=a.name)||"WComponent",(wcid=a.id)?wcdn+"("+wcid+")":wcdn):a instanceof jQuery?a.length?(wcid=a.attr("id")?" id="+a.attr("id"):"",a.selector?'$("'+a.selector+'")':"$(<"+a.prop("tagName")+wcid+">)"):'$("'+a.selector+'").length=0':"object"==typeof a?JSON.stringify(a):a+""}function styleObj(ws){var ws=style(ws),r={};if(!ws)return r;for(var _i=0,kvs_1=ws.split(";");_i<kvs_1.length;_i++){var akv=kvs_1[_i].split(":");akv.length<2||(r[akv[0].trim()]=akv[1].trim())}return r}function style(ws){var s="";return ws?"string"==typeof ws?ws.indexOf(":")<=0?"":";"!=ws.charAt(ws.length-1)?ws+";":ws:(ws.s&&(s+=css(ws.s)),ws.fs&&(s+="font-style:"+ws.fs+";"),ws.fw&&(s+="font-weight:"+ws.fw+";"),ws.tt&&(s+="text-transform:"+ws.tt+";"),ws.tr&&(s+="transform:"+ws.tr+";"),ws.fl&&(s+="float:"+ws.fl+";"),ws.cl&&(s+="clear:"+ws.cl+";"),ws.a&&(s+="text-align:"+ws.a+";"),ws.c&&(s+="color:"+ws.c+";"),ws.v&&(s+="vertical-align:"+ws.v+";"),ws.d&&(s+="display:"+ws.d+";"),ws.z&&(s+="z-index:"+ws.z+";"),ws.lh&&(s+="line-height:"+ws.lh+";"),ws.ps&&(s+="position:"+ws.ps+";"),ws.o&&(s+="overflow:"+ws.o+";"),ws.ox&&(s+="overflow-x:"+ws.ox+";"),ws.oy&&(s+="overflow-y:"+ws.oy+";"),null!=ws.op&&(s+="opacity:"+ws.op+";"),null!=ws.ol&&(s+="outline:"+ws.ol+";"),ws.cr&&(s+="cursor:"+ws.cr+";"),ws.cn&&(s+="content:"+ws.cn+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-webkit"+ws.k+";":"-webkit-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-moz"+ws.k+";":"-moz-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-o"+ws.k+";":"-o-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-ms"+ws.k+";":"-ms-"+ws.k+";"),ws.bs&&(s+="box-shadow:"+ws.bs+";"),ws.bz&&(s+="box-sizing:"+ws.bz+";"),ws.b&&(s+=0<ws.b.indexOf(":")?css("border"+ws.b):ws.b.match(/^(|none|inherit|initial|unset)$/)||0<ws.b.indexOf(" ")?"border:"+ws.b+";":"border:1px solid "+ws.b+";"),ws.bc&&(s+="border-collapse:"+ws.bc+";"),null!=ws.br&&(s+="number"==typeof ws.br?"border-radius:"+ws.br+"px;":"border-radius:"+ws.br+";"),null!=ws.bsp&&(s+="number"==typeof ws.bsp?"border-spacing:"+ws.bsp+"px;":"border-spacing:"+ws.bsp+";"),null!=ws.m&&(s+="number"==typeof ws.m?"margin:"+ws.m+"px;":0<ws.m.indexOf(":")?css("margin"+ws.m):"margin:"+ws.m+";"),null!=ws.mt&&(s+="number"==typeof ws.mt?"margin-top:"+ws.mt+"px;":"margin-top:"+ws.mt+";"),null!=ws.mr&&(s+="number"==typeof ws.mr?"margin-right:"+ws.mr+"px;":"margin-right:"+ws.mr+";"),null!=ws.mb&&(s+="number"==typeof ws.mb?"margin-bottom:"+ws.mb+"px;":"margin-bottom:"+ws.mb+";"),null!=ws.ml&&(s+="number"==typeof ws.ml?"margin-left:"+ws.ml+"px;":"margin-left:"+ws.ml+";"),null!=ws.p&&(s+="number"==typeof ws.p?"padding:"+ws.p+"px;":0<ws.p.indexOf(":")?css("padding"+ws.p):"padding:"+ws.p+";"),null!=ws.pt&&(s+="number"==typeof ws.pt?"padding-top:"+ws.pt+"px;":"padding-top:"+ws.pt+";"),null!=ws.pr&&(s+="number"==typeof ws.pr?"padding-right:"+ws.pr+"px;":"padding-right:"+ws.pr+";"),null!=ws.pb&&(s+="number"==typeof ws.pb?"padding-bottom:"+ws.pb+"px;":"padding-bottom:"+ws.pb+";"),null!=ws.pl&&(s+="number"==typeof ws.pl?"padding-left:"+ws.pl+"px;":"padding-left:"+ws.pl+";"),null!=ws.f&&(s+="number"==typeof ws.f?"font-size:"+ws.f+"px;":0<ws.f.indexOf(":")?css("font"+ws.f):"font-size:"+ws.f+";"),ws.bg&&(s+=0<ws.bg.indexOf(":")?css("background"+ws.bg):0<=ws.bg.indexOf("url")?"background:"+ws.bg+";":"background-color:"+ws.bg+";"),ws.bgi&&(s+="background-image:"+ws.bgi+";"),ws.bgp&&(s+="background-position:"+ws.bgp+";"),ws.bgr&&(s+="background-repeat:"+ws.bgr+";"),ws.text&&(s+=0<ws.text.indexOf(":")?css("text"+ws.text):"text-decoration:"+ws.text+";"),null!=ws.l&&(s+="number"==typeof ws.l?"left:"+ws.l+"px;":"left:"+ws.l+";"),null!=ws.r&&(s+="number"==typeof ws.r?"right:"+ws.r+"px;":"right:"+ws.r+";"),null!=ws.t&&(s+="number"==typeof ws.t?"top:"+ws.t+"px;":"top:"+ws.t+";"),null!=ws.bt&&(s+="number"==typeof ws.bt?"bottom:"+ws.bt+"px;":"bottom:"+ws.bt+";"),ws.w&&(s+="number"==typeof ws.w?"width:"+ws.w+"px;":"width:"+ws.w+";"),ws.h&&(s+="number"==typeof ws.h?"height:"+ws.h+"px;":"height:"+ws.h+";"),ws.minw&&(s+="number"==typeof ws.minw?"min-width:"+ws.minw+"px;":"min-width:"+ws.minw+";"),ws.maxw&&(s+="number"==typeof ws.maxw?"max-width:"+ws.maxw+"px;":"max-width:"+ws.maxw+";"),ws.minh&&(s+="number"==typeof ws.minh?"min-height:"+ws.minh+"px;":"min-height:"+ws.minh+";"),ws.maxh&&(s+="number"==typeof ws.maxh?"max-height:"+ws.maxh+"px;":"max-height:"+ws.maxh+";"),ws.ws&&(s+="white-space:"+ws.ws+";"),s):s}function css(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||0==a.length)return"";for(var s="",x={},xi=!0,i=0;i<a.length;i++){var e=a[i];e&&("string"!=typeof e?($.extend(x,e),xi=!1):(xi||(s+=style(x),x={},xi=!0),0<e.indexOf(":")&&(s+=e,";"!=e.charAt(e.length-1)&&(s+=";"))))}return xi||(s+=style(x)),s}function cls(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||!a.length)return"";for(var s="",i=0;i<a.length;i++){var e=a[i];e&&(!(e="string"==typeof e?e:e.n)||0<e.indexOf(":")||(s+=e+" "))}return s.trim()}function attributes(a){if(!a)return"";if("string"==typeof a)return a;if("object"!=typeof a)return"";var k,r="";for(k in a)r+=k+'="'+a[k]+'" ';return r.trim()}function buildCss(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||!a.length)return"";var c=cls.apply(void 0,a),s=css.apply(void 0,a),r="";return c&&(r+=' class="'+c+'"'),s&&(r+=' style="'+s+'"'),r}WUX.WUtil=WUtil,WUX.getId=getId,WUX.firstSub=function(e,r){if(!(e=getId(e)))return"";var s=e.indexOf("-");return s<0?e:r?e.substring(s+1):e.substring(0,s)},WUX.lastSub=function(e){if(!(e=getId(e)))return"";var s=e.lastIndexOf("-");return s<0?e:0<s&&"-"==e.charAt(s-1)?e.substring(s):e.substring(s+1)},WUX.getComponent=function(id){if(id){id=$("#"+id);if(id.length)return id.wuxComponent(!1)}},WUX.getRootComponent=function getRootComponent(c){return c&&(c.parent?getRootComponent(c.parent):c)},WUX.setProps=function(id,p){if(id){id=$("#"+id);if(id.length){id=id.wuxComponent(!1);if(id)return id.setProps(p),id}}},WUX.getProps=function(id,d){return!id||!(id=$("#"+id)).length||!(id=id.wuxComponent(!1))||null==(id=id.getProps())?d:id},WUX.setState=function(id,s){if(id){id=$("#"+id);if(id.length){id=id.wuxComponent(!1);if(id)return id.setState(s),id}}},WUX.getState=function(id,d){return!id||!(id=$("#"+id)).length||!(id=id.wuxComponent(!1))||null==(id=id.getState())?d:id},WUX.newInstance=function(n){if(!n)return null;var s=n.lastIndexOf(".");if(0<s){var ns=n.substring(0,s);if(window[ns]){var i,c=n.substring(s+1);for(i in window[ns])if(i==c)return new window[ns][i];return null}}return(s=window[n])&&s.prototype?Object.create(s.prototype):null},WUX.same=function(e1,e2){return"string"==typeof e1&&"string"==typeof e2?e1==e2:"string"!=typeof e1&&"string"!=typeof e2&&(e1=getId(e1),e2=getId(e2),e1&&e2&&e1==e2)},WUX.parse=parse,WUX.divide=divide,WUX.str=str,WUX.getTagName=function(c){if(!c)return"";if(c instanceof WComponent){if(r=c.rootTag)return r.toLowerCase();var root=c.getRoot();return root?"":WUX.getTagName(root)}var r;return c instanceof jQuery?c.length&&(r=c.prop("tagName"))?(""+r).toLowerCase():"":"<"==(root=""+c).charAt(0)?0<(c=(c=root.indexOf(" "))<0?root.indexOf(">"):c)?"/"==(r=root.substring(1,c).toLowerCase()).charAt(r.length-1)?r.substring(0,r.length-1):r:"":"#"==root.charAt(0)?WUX.getTagName($(root)):WUX.getTagName($("#"+root))},WUX.match=function(i,o){return o?null==i?"string"==typeof o?""==o:!o.id:"object"==typeof i?"string"==typeof o?o==i.id:o.id==i.id:"string"==typeof o?o==i:o.id==i:!i},WUX.hashCode=function(a){if(!a)return 0;var s=""+a,h=0,l=s.length,i=0;if(0<l)for(;i<l;)h=(h<<5)-h+s.charCodeAt(i++)|0;return h},WUX.styleObj=styleObj,WUX.style=style,WUX.addStyle=function(s,k,v,n){return k&&v?s?n&&0<=s.indexOf(k+":")?css(s):css(s)+k+":"+v+";":k+":"+v+";":css(s)},WUX.css=css,WUX.cls=cls,WUX.attributes=attributes,WUX.ul=function(css){for(var a=[],_i=1;_i<arguments.length;_i++)a[_i-1]=arguments[_i];if(!a||!a.length)return"";for(var s=css?"<ul"+buildCss(css)+">":"<ul>",i=0;i<a.length;i++){var e=a[i];null!=e&&(s+="<li>"+e+"</li>")}return s+="</ul>"},WUX.ol=function(css,start){for(var a=[],_i=2;_i<arguments.length;_i++)a[_i-2]=arguments[_i];if(!a||!a.length)return"";for(var s="",s=null!=start?css?"<ol"+buildCss(css)+' start="'+start+'">':'<ol start="'+start+'">':css?"<ol"+buildCss(css)+">":"<ol>",i=0;i<a.length;i++){var e=a[i];null!=e&&(s+="<li>"+e+"</li>")}return s+="</ol>"},WUX.buildCss=buildCss,WUX.removeClass=function(css,name){if(!css||!name)return css;for(var r="",_i=0,classes_1=css.split(" ");_i<classes_1.length;_i++){var c=classes_1[_i];c!=name&&(r+=c+" ")}return r.trim()},WUX.toggleClass=function(css,name){if(!css||!name)return css;for(var f=!1,r="",_i=0,classes_2=css.split(" ");_i<classes_2.length;_i++){var c=classes_2[_i];c==name?f=!0:r+=c+" "}return f?r.trim():r.trim()+" "+name},WUX.setCss=function(e){for(var a=[],_i=1;_i<arguments.length;_i++)a[_i-1]=arguments[_i];if(!e||!a||!a.length)return e;if(e instanceof WComponent)e.css.apply(e,a);else if(e instanceof jQuery){if(!e.length)return e;var s=css.apply(void 0,a),c=cls.apply(void 0,a);c&&e.addClass(c),s&&e.css(styleObj(s))}return e},WUX.buildIcon=function(icon,before,after,size,cls,title){return icon?(before=before||"",after=after||"",title=title?' title="'+title+'"':"",cls=cls?" "+cls:"",0<icon.indexOf(".")?before+'<img src="'+icon+'"'+title+">"+after:!size||size<2?before+'<i class="fa '+icon+cls+'"'+title+"></i>"+after:before+'<i class="fa '+icon+" fa-"+(size=5<size?5:size)+"x"+cls+'"'+title+"></i>"+after):""},WUX.build=function(tagName,inner,css,attributes,id,classStyle){tagName=tagName||"div","string"==typeof css?0<css.indexOf(":")?style=css:clsStyle=css:css&&(css.n&&(clsStyle=css.n),style=WUX.style(css)),classStyle&&(clsStyle?clsStyle+=" "+classStyle:clsStyle=classStyle);var clsStyle,style,css="<"+tagName;id&&(css+=' id="'+id+'"'),clsStyle&&(css+=' class="'+clsStyle+'"'),style&&(css+=' style="'+style+'"');(classStyle=WUX.attributes(attributes))&&(css+=" "+classStyle),css+=">",id=divide(inner);return css+=id[1],"input"==tagName?id[0]+css+id[2]:id[0]+(css+="</"+tagName+">")+id[2]},WUX.addWrapper=function(n,w,b,e){if(!n||!w)return n;var cls=WUX.cls(w.classStyle,w.style),style=WUX.style(w.style),t=w.type||"div",r="<"+t;w.id&&(r+=' id="'+w.id+'"'),cls&&(r+=' class="'+cls+'"'),style&&(r+=' style="'+style+'"');(cls=WUX.attributes(attributes))&&(r+=" "+cls),w.title&&(r+=' title="'+w.title+'"'),r=r+"></"+t+">",style=$(r);return w.element=style,b&&n.append(b),n.append(style),e&&n.append(e),w.wrapper?WUX.addWrapper(style,w.wrapper,w.begin,w.end):(w.begin&&style.append(w.begin),w.end&&style.append(w.end),style)},WUX.val=function(e,v){if(e){if("string"==typeof e){if(0<=e.indexOf("<"))return;e.indexOf("#")<0&&(e="#"+e);var c=WUX.getComponent(e);if(c){if(void 0===v)return c.getState();c.setState(v)}else{if(void 0===v)return $(e).val();$(e).val(v)}}else if(e instanceof WComponent){if(void 0===v)return e.getState();e.setState(v)}else if(e instanceof jQuery){if(void 0===v)return e.val();e.val(v)}else{if(void 0===v)return $(e).val();$(e).val(v)}return v}},WUX.getContainer=function(e,s){if(void 0===s&&(s="div"),e){if("string"==typeof e)return 0<=e.indexOf("<")?void 0:(e.indexOf("#")<0&&(e="#"+e),WUX.getContainer($(e)));if(e instanceof WComponent){var $r,$c=e.getContext();if($c)if(($r=$c.closest(s))&&$r.length)return $r;return $c}return($r=e.parent().closest(s))&&$r.length?$r:e.parent()}},WUX.openURL=function(url,history,newTab,params){if(void 0===history&&(history=!0),void 0===newTab&&(newTab=!1),url){if(params&&"object"==typeof params){var p,v,qs="";for(p in params)params.hasOwnProperty(p)&&(v=params[p],qs+="&"+encodeURIComponent(p)+"="+encodeURIComponent(v));qs&&(0<url.indexOf("?")?url+=qs:url+="?"+qs.substring(1))}newTab?window.open(url,"_blank"):history?window.location.assign(url):window.location.replace(url)}}}(WUX=WUX||{}),function(WUX){var _data={},_dccb={};WUX.global={locale:"it",main_class:"container-fluid",con_class:"container",box_class:"ibox",box_header:"ibox-title",box_title:"<h5>$</h5>",box_tools:"ibox-tools",box_content:"ibox-content",box_footer:"ibox-footer",chart_bg0:"rgba(26,179,148,0.5)",chart_bg1:"rgba(220,220,220,0.5)",chart_bg2:"rgba(160,220,255,0.5)",chart_bc0:"rgba(26,179,148,0.7)",chart_bc1:"rgba(220,220,220,0.7)",chart_bc2:"rgba(160,220,255,0.7)",chart_p0:"rgba(26,179,148,1)",chart_p1:"rgba(220,220,220,1)",chart_p2:"rgba(160,220,255,1)",area:{b:"-radius:8px",m:"0px 0px 0px 0px",p:"16px 7px 5px 7px",bg:"white"},area_title:{b:"none",f:14,fw:"bold",w:"unset",ps:"relative",t:12,l:0,m:0},section:{b:"#e7eaec",m:"2px 0px 4px 0px",p:"8px 8px 8px 8px",bg:"#fafafa"},section_title:{b:"none",f:16,fw:"600",w:"unset",m:"-bottom:2px",tt:"uppercase"},window_top:{ps:"fixed",t:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},window_bottom:{ps:"fixed",bt:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},init:function(callback){WUX.debug&&console.log("[WUX] global.init...");var f="/modules/wux/cldr/cldr-data-"+WUX.global.locale+".json";$.when($.getJSON(f)).then(function(data){Globalize.load(data)}).then(function(){Globalize.locale(WUX.global.locale),DevExpress.localization.locale(WUX.global.locale),DevExpress.config({defaultCurrency:"EUR"}),WUX.debug&&console.log("[WUX] global.init completed"),callback&&callback()}).fail(function(){console.error("[WUX] global.init failed: check cldr data.")})},setData:function(key,data,dontTrigger){if(void 0===dontTrigger&&(dontTrigger=!1),_data[key=key||"global"]=data,!dontTrigger&&_dccb[key])for(var _i=0,_a=_dccb[key];_i<_a.length;_i++)(0,_a[_i])(data)},getData:function(key,def){key=_data[key=key||"global"];return null==key?def:key},onDataChanged:function(key,callback){_dccb[key=key||"global"]||(_dccb[key]=[]),_dccb[key].push(callback)}},WUX.showMessage=function(m,title,type,dlg){_showMessage(m,title,type,dlg)},WUX.showInfo=function(m,title,dlg,f){_showInfo(m,title,dlg,f)},WUX.showSuccess=function(m,title,dlg){_showSuccess(m,title,dlg)},WUX.showWarning=function(m,title,dlg){_showWarning(m,title,dlg)},WUX.showError=function(m,title,dlg){_showError(m,title,dlg)},WUX.confirm=function(m,f){_confirm(m,f)},WUX.getInput=function(m,f,d){_getInput(m,f,d)},WUX.getPageTitle=function(){return $("h1.page-header")},WUX.getBreadcrump=function(){return $("ol.breadcrumb")},WUX.getPageHeader=function(){return $("#navbar")},WUX.getPageFooter=function(){return $("#pfooter")},WUX.getPageMenu=function(){return $("#block-bootstrap-main-menu")},WUX.getViewRoot=function(){return $("#view-root")},WUX.sticky=function(c){},WUX.stickyRefresh=function(){},WUX.formatDate=function(a,withDay,e){if(void 0===withDay&&(withDay=!1),void 0===e&&(e=!1),!a)return"";if(!(a=WUX.WUtil.toDate(a)))return"";var m=(m=a.getMonth()+1)<10?"0"+m:""+m,sd=a.getDate()<10?"0"+a.getDate():""+a.getDate();return withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear():sd+"/"+m+"/"+a.getFullYear()},WUX.formatDateTime=function(a,withSec,withDay,e){if(void 0===withSec&&(withSec=!1),void 0===withDay&&(withDay=!1),void 0===e&&(e=!1),!a)return"";if(!(a=WUX.WUtil.toDate(a)))return"";var m=(m=a.getMonth()+1)<10?"0"+m:""+m,sd=a.getDate()<10?"0"+a.getDate():""+a.getDate(),sh=a.getHours()<10?"0"+a.getHours():""+a.getHours(),sp=a.getMinutes()<10?"0"+a.getMinutes():""+a.getMinutes();return withSec?(withSec=a.getSeconds()<10?"0"+a.getSeconds():""+a.getSeconds(),withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp+":"+withSec:sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp+":"+withSec):withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp:sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp},WUX.formatTime=function(a,withSec){return void 0===withSec&&(withSec=!1),null==a?"":"number"==typeof a?withSec?(is=a%1e4%100,Math.floor(a/1e4)+":"+((mm=Math.floor(a%1e4/100))<10?"0"+mm:""+mm)+":"+(is<10?"0"+is:""+is)):Math.floor(a/100)+":"+((mm=a%100)<10?"0"+mm:""+mm):"string"==typeof a?0<a.indexOf(":")?a:a.length<3?a+":00":5<=a.length?a.substring(0,2)+":"+a.substring(2,4)+":"+a.substring(4):a.substring(0,2)+":"+a.substring(2):a instanceof Date?(is=a.getHours()<10?"0"+a.getHours():""+a.getHours(),mm=a.getMinutes()<10?"0"+a.getMinutes():""+a.getMinutes(),withSec?is+":"+mm+":"+(a.getSeconds()<10?"0"+a.getSeconds():""+a.getSeconds()):is+":"+mm):"";var is,mm},WUX.formatNum2=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(""+Math.round(100*a)/100).replace(".",",");return null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatNum=function(a,nz,z,neg){if(""===a||null==a)return"";var r=(""+(a=WUX.WUtil.toNumber(a))).replace(".",",");return null!=nz&&0!=a?null!=neg&&a<0?"l"==neg?a.toLocaleString("it-IT"):neg.replace("$",r):"l"==nz?a.toLocaleString("it-IT"):nz.replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatCurr=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(Math.round(100*a)/100).toLocaleString("it-IT"),d=r.indexOf(",");return d<0&&(r+=",00"),d==r.length-2&&(r+="0"),null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatCurr5=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(""+Math.round(1e5*a)/1e5).replace(".",",");if((d=r.indexOf(","))<0&&(r+=",00"),d==r.length-2&&(r+="0"),0<d){for(var s1=r.substring(0,d),d=r.substring(d),s3="",i=1;i<=s1.length;i++)3<i&&(i-1)%3==0&&(s3="."+s3),s3=s1.charAt(s1.length-i)+s3;r=s3+d}return null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatBoolean=function(a){return null==a?"":a?"S":"N"},WUX.format=function(a){if(null==a)return"";if("string"==typeof a)return a;if("boolean"==typeof a)return WUX.formatBoolean(a);if("number"==typeof a)return 0<=(""+a).indexOf(".")?WUX.formatCurr(a):WUX.formatNum(a);if(a instanceof Date)return WUX.formatDate(a);if(a instanceof WUX.WComponent){if(a instanceof WUX.WCheck)return a.checked?a.text:"";if("select"!=a.rootTag)return WUX.format(a.getState());var p=a.getProps();if(Array.isArray(p)&&1<p.length){for(var v,w,y="",_i=0,p_1=p;_i<p_1.length;_i++)(v=""+p_1[_i])&&(9<v.length?y+=","+(v=0<(w=v.indexOf(" -"))?v.substring(0,w).trim():v):y+=","+v);return y=y.length?y.substring(1):y}return v=(v=""+a.getProps())||a.getState(),WUX.format(v)}return""+a},WUX.formatDay=function(d,e){switch(d){case 0:return e?"Domenica":"Dom";case 1:return e?"Luned&igrave;":"Lun";case 2:return e?"Marted&igrave;":"Mar";case 3:return e?"Mercoled&igrave;":"Mer";case 4:return e?"Giove&igrave;":"Gio";case 5:return e?"Venerd&igrave;":"Ven";case 6:return e?"Sabato":"Sab"}return""},WUX.formatMonth=function(m,e,y){switch(100<m&&(y=Math.floor(m/100),m%=100),y=y?" "+y:"",m){case 1:return e?"Gennaio"+y:"Gen"+y;case 2:return e?"Febbraio"+y:"Feb"+y;case 3:return e?"Marzo"+y:"Mar"+y;case 4:return e?"Aprile"+y:"Apr"+y;case 5:return e?"Maggio"+y:"Mag"+y;case 6:return e?"Giugno"+y:"Giu"+y;case 7:return e?"Luglio"+y:"Lug"+y;case 8:return e?"Agosto"+y:"Ago"+y;case 9:return e?"Settembre"+y:"Set"+y;case 10:return e?"Ottobre"+y:"Ott"+y;case 11:return e?"Novembre"+y:"Nov"+y;case 12:return e?"Dicembre"+y:"Dic"+y}return""},WUX.decodeMonth=function(m){return m?"number"==typeof m?0<m&&m<13?m:0:"gen"==(m=3<(m=(""+m).toLowerCase()).length?m.substring(0,3):m)?1:"feb"==m?2:"mar"==m?3:"apr"==m?4:"mag"==m?5:"giu"==m?6:"lug"==m?7:"ago"==m?8:"set"==m?9:"ott"==m?10:"nov"==m?11:"dic"==m?12:0<(m=WUX.WUtil.toInt(m))&&m<13?m:0:0},WUX.norm=function(t){return t?(t=(t=(t=(t=""+t).replace("","A'").replace("","E'").replace("","I'").replace("","O'").replace("","U'")).replace("","a'").replace("","e'").replace("","i'").replace("","o'").replace("","u'")).replace("","a`").replace("","e`").replace("","i`").replace("","o`").replace("","u`")).replace("","E").replace("","a").replace("","o"):""},WUX.den=function(t){return t?(t=(t=(t=(t=""+t).replace("A'","").replace("E'","").replace("I'","").replace("O'","").replace("U'","")).replace("a'","").replace("e'","").replace("i'","").replace("o'","").replace("u'","")).replace("a`","").replace("e`","").replace("i`","").replace("o`","").replace("u`","")).replace(" p"," po'"):""},WUX.text=function(t){return t?(t=(t=(t=(t=""+t).replace("&Agrave;","A'").replace("&Egrave;","E'").replace("&Igrave;","I'").replace("&Ograve;","O'").replace("&Ugrave;","U'")).replace("&agrave;","a'").replace("&egrave;","e'").replace("&igrave;","i'").replace("&ograve;","o'").replace("&ugrave;","u'")).replace("&aacute;","a`").replace("&eacute;","e`").replace("&iacute;","i`").replace("&oacute;","o`").replace("&uacute;","u`")).replace("&euro;","E").replace("&nbsp;"," ").replace("&amp;","&").replace("&gt;",">").replace("&lt;","<").replace("&quot;",'"'):""};var KEY="@D:=E?('B;F)<=A>C@?):D';@=B<?C;)E:'@=?A(B<=;(?@>E:";WUX.encrypt=function(a){if(!a)return"";for(var t=""+a,s="",k=0,i=0;i<t.length;i++){var k=KEY.length-1<=k?0:k+1,c=t.charCodeAt(i),d=KEY.charCodeAt(k),r=c;32<=c&&c<=126&&(r-=d)<32&&(r=127+r-32),s+=String.fromCharCode(r)}return s},WUX.decrypt=function(a){if(!a)return"";for(var t=""+a,s="",k=0,i=0;i<t.length;i++){var k=KEY.length-1<=k?0:k+1,c=t.charCodeAt(i),d=KEY.charCodeAt(k),r=c;32<=c&&c<=126&&126<(r+=d)&&(r=31+r-126),s+=String.fromCharCode(r)}return s},function(BTN){BTN.PRIMARY="btn btn-primary",BTN.SECONDARY="btn btn-secondary",BTN.SUCCESS="btn btn-success",BTN.DANGER="btn btn-danger",BTN.WARNING="btn btn-warning",BTN.INFO="btn btn-info",BTN.LIGHT="btn btn-light",BTN.DARK="btn btn-dark",BTN.LINK="btn btn-link",BTN.WHITE="btn btn-white",BTN.SM_PRIMARY="btn btn-sm btn-primary btn-block",BTN.SM_DEFAULT="btn btn-sm btn-default btn-block",BTN.SM_SECONDARY="btn btn-sm btn-secondary btn-block",BTN.SM_INFO="btn btn-sm btn-info btn-block",BTN.SM_WARNING="btn btn-sm btn-warning btn-block",BTN.SM_DANGER="btn btn-sm btn-danger btn-block",BTN.SM_WHITE="btn btn-sm btn-white btn-block",BTN.ACT_PRIMARY="btn btn-sm btn-primary",BTN.ACT_DEFAULT="btn btn-sm btn-default",BTN.ACT_SECONDARY="btn btn-sm btn-secondary",BTN.ACT_INFO="btn btn-sm btn-info",BTN.ACT_WARNING="btn btn-sm btn-warning",BTN.ACT_DANGER="btn btn-sm btn-danger",BTN.ACT_WHITE="btn btn-sm btn-white",BTN.ACT_OUTLINE_PRIMARY="btn btn-sm btn-primary btn-outline",BTN.ACT_OUTLINE_DEFAULT="btn btn-sm btn-default btn-outline",BTN.ACT_OUTLINE_INFO="btn btn-sm btn-info btn-outline",BTN.ACT_OUTLINE_WARNING="btn btn-sm btn-warning btn-outline",BTN.ACT_OUTLINE_DANGER="btn btn-sm btn-danger btn-outline"}(WUX.BTN||(WUX.BTN={}));var ATT=function(){function ATT(){}return ATT.STICKY_CONTAINER="data-b2x-sticky-container",ATT.STICKY_ELEMENT='data-b2x-sticky-element data-b2x-sticky-element-z-index="3"',ATT.BOX_FILTER='data-b2x-sticky-element data-b2x-sticky-element-ignore-margin-bottom="true" data-b2x-sticky-element-z-index="3"',ATT}(),ATT=(WUX.ATT=ATT,function(){function CSS(){}return CSS.NORMAL={bg:"#ffffff"},CSS.ERROR={bg:"#fce6e8"},CSS.WARNING={bg:"#fef3e6"},CSS.SUCCESS={bg:"#d1f0ea"},CSS.INFO={bg:"#ddedf6"},CSS.COMPLETED={bg:"#eeeeee"},CSS.MARKED={bg:"#fff0be"},CSS.BTN_MED={w:110,f:12,a:"left"},CSS.BTN_SMALL={w:90,f:12,a:"left"},CSS.STACK_BTNS={pt:2,pb:2,a:"center"},CSS.LINE_BTNS={pl:2,pr:2,a:"center"},CSS.FORM_CTRL="form-control",CSS.FORM_CTRL_SM="form-control input-sm",CSS.FIELD_REQUIRED={c:"#676a96"},CSS.FIELD_CRITICAL={c:"#aa6a6c"},CSS.FIELD_INTERNAL={c:"#aa6a6c"},CSS.LABEL_NOTICE={c:"#aa6a6c",fw:"bold"},CSS.LABEL_INFO={c:"#676a96",fw:"bold"},CSS}()),ATT=(WUX.CSS=ATT,!function(WIcon){WIcon.LARGE="fa-lg ",WIcon.ADDRESS_CARD="fa-address-card",WIcon.ANGLE_DOUBLE_LEFT="fa-angle-double-left",WIcon.ANGLE_DOUBLE_RIGHT="fa-angle-double-right",WIcon.ANGLE_LEFT="fa-angle-left",WIcon.ANGLE_RIGHT="fa-angle-right",WIcon.ARROW_CIRCLE_DOWN="fa-arrow-circle-down",WIcon.ARROW_CIRCLE_LEFT="fa-arrow-circle-left",WIcon.ARROW_CIRCLE_O_DOWN="fa-arrow-circle-o-down",WIcon.ARROW_CIRCLE_O_LEFT="fa-arrow-circle-o-left",WIcon.ARROW_CIRCLE_O_RIGHT="fa-arrow-circle-o-right",WIcon.ARROW_CIRCLE_O_UP="fa-arrow-circle-o-up",WIcon.ARROW_CIRCLE_RIGHT="fa-arrow-circle-right",WIcon.ARROW_CIRCLE_UP="fa-arrow-circle-up",WIcon.ARROW_DOWN="fa-arrow-down",WIcon.ARROW_LEFT="fa-arrow-left",WIcon.ARROW_RIGHT="fa-arrow-right",WIcon.ARROW_UP="fa-arrow-up",WIcon.BOLT="fa-bolt",WIcon.BACKWARD="fa-backward",WIcon.BOOKMARK="fa-bookmark",WIcon.BOOKMARK_O="fa-bookmark-o",WIcon.CALENDAR="fa-calendar",WIcon.CALCULATOR="fa-calculator",WIcon.CHAIN="fa-chain",WIcon.CHAIN_BROKEN="fa-chain-broken",WIcon.CHECK="fa-check",WIcon.CHECK_CIRCLE="fa-check-circle",WIcon.CHECK_CIRCLE_O="fa-check-circle-o",WIcon.CHECK_SQUARE="fa-check-square",WIcon.CHECK_SQUARE_O="fa-check-square-o",WIcon.CHEVRON_DOWN="fa-chevron-down",WIcon.CHEVRON_UP="fa-chevron-up",WIcon.CLOCK_O="fa-clock-o",WIcon.CLOSE="fa-close",WIcon.COG="fa-cog",WIcon.COMMENT="fa-comment",WIcon.COMMENTS_O="fa-comments-o",WIcon.COPY="fa-copy",WIcon.CUT="fa-cut",WIcon.DATABASE="fa-database",WIcon.EDIT="fa-edit",WIcon.ENVELOPE_O="fa-envelope-o",WIcon.EXCHANGE="fa-exchange",WIcon.FILE="fa-file",WIcon.FILE_O="fa-file-o",WIcon.FILE_CODE_O="fa-file-code-o",WIcon.FILE_PDF_O="fa-file-pdf-o",WIcon.FILE_TEXT_O="fa-file-text-o",WIcon.FILES="fa-files-o",WIcon.FILTER="fa-filter",WIcon.FOLDER="fa-folder",WIcon.FOLDER_O="fa-folder-o",WIcon.FOLDER_OPEN="fa-folder-open",WIcon.FOLDER_OPEN_O="fa-folder-open-o",WIcon.FORWARD="fa-forward",WIcon.GRADUATION_CAP="fa-graduation-cap",WIcon.INFO_CIRCLE="fa-info-circle",WIcon.LIFE_RING="fa-life-ring",WIcon.LINK="fa-link",WIcon.LEGAL="fa-legal",WIcon.LIST="fa-list",WIcon.MINUS="fa-minus",WIcon.MINUS_SQUARE_O="fa-minus-square-o",WIcon.PASTE="fa-paste",WIcon.PENCIL="fa-pencil",WIcon.PIE_CHART="fa-pie-chart",WIcon.PLUS="fa-plus",WIcon.PLUS_SQUARE_O="fa-plus-square-o",WIcon.PRINT="fa-print",WIcon.QUESTION_CIRCLE="fa-question-circle",WIcon.RANDOM="fa-random",WIcon.RECYCLE="fa-recycle",WIcon.REFRESH="fa-refresh",WIcon.SEARCH="fa-search",WIcon.SEARCH_MINUS="fa-search-minus",WIcon.SEARCH_PLUS="fa-search-plus",WIcon.SEND="fa-send",WIcon.SHARE_SQUARE_O="fa-share-square-o",WIcon.SHOPPING_CART="fa-shopping-cart",WIcon.SIGN_IN="fa-sign-in",WIcon.SIGN_OUT="fa-sign-out",WIcon.SQUARE="fa-square",WIcon.SQUARE_O="fa-square-o",WIcon.TH_LIST="fa-th-list",WIcon.THUMBS_O_DOWN="fa-thumbs-o-down",WIcon.THUMBS_O_UP="fa-thumbs-o-up",WIcon.TIMES="fa-times",WIcon.TIMES_CIRCLE="fa-times-circle",WIcon.TOGGLE_OFF="fa-toggle-off",WIcon.TOGGLE_ON="fa-toggle-on",WIcon.TRASH="fa-trash",WIcon.TRUCK="fa-truck",WIcon.UNDO="fa-undo",WIcon.UPLOAD="fa-upload",WIcon.USER="fa-user",WIcon.USER_O="fa-user-o",WIcon.USERS="fa-users",WIcon.WARNING="fa-warning",WIcon.WIFI="fa-wifi",WIcon.WRENCH="fa-wrench"}(WUX.WIcon||(WUX.WIcon={})),function(){function RES(){}return RES.OK="OK",RES.CLOSE="Chiudi",RES.CANCEL="Annulla",RES.ERR_DATE="Data non ammessa.",RES.FILE_NAME="File",RES.FILE_SIZE="Dim.",RES.FILE_TYPE="Tipo",RES.FILE_LMOD="Ult.Mod.",RES}());WUX.RES=ATT}(WUX=WUX||{}),function(WUX){var WContainer=function(_super){function WContainer(id,classStyle,style,attributes,inline,type,addClassStyle){id=_super.call(this,id,"WContainer",type,classStyle,WUX.style(style),attributes)||this;return id.inline=!1,id.components=[],id.inline=inline,addClassStyle&&(id._classStyle=id._classStyle?id._classStyle+" "+addClassStyle:addClassStyle),id.rootTag=inline?"span":"div","aside"==type&&(id.rootTag="aside"),id}return __extends(WContainer,_super),WContainer.create=function(w){if(!w)return new WContainer;var ctype=w.type?"<"+w.type+">":"",ctype=new WContainer(w.id,w.classStyle,w.style,w.attributes,!1,ctype);return ctype.wrapper=w.wrapper,ctype},WContainer.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.stateComp&&this.stateComp.setState(this.state)},WContainer.prototype.getState=function(){return this.stateComp&&(this.state=this.stateComp.getState()),this.state},WContainer.prototype.on=function(events,handler){return _super.prototype.on.call(this,events,handler),"statechange"==events&&this.stateComp&&this.stateComp.on("statechange",handler),this},WContainer.prototype.off=function(events){return _super.prototype.off.call(this,events),"statechange"==events&&this.stateComp&&this.stateComp.off("statechange"),this},WContainer.prototype.trigger=function(eventType){for(var _a,extParams=[],_i=1;_i<arguments.length;_i++)extParams[_i-1]=arguments[_i];return _super.prototype.trigger.apply(this,__spreadArray([eventType],extParams,!1)),"statechange"==eventType&&this.stateComp&&(_a=this.stateComp).trigger.apply(_a,__spreadArray(["statechange"],extParams,!1)),this},WContainer.prototype.setLayout=function(layoutManager){this.layoutManager=layoutManager},WContainer.prototype.section=function(title,secStyle,legStyle){return this.legend=title,this.fieldsetStyle=secStyle?WUX.css(WUX.global.section,secStyle):WUX.global.section,this.legendStyle=legStyle?WUX.css(WUX.global.section_title,legStyle):WUX.global.section_title,this},WContainer.prototype.area=function(title,areaStyle,legStyle){return this.legend=title,this.fieldsetStyle=areaStyle?WUX.css(WUX.global.area,areaStyle):WUX.global.area,this.legendStyle=legStyle?WUX.css(WUX.global.area_title,legStyle):WUX.global.area_title,this},WContainer.prototype.end=function(){return this.parent instanceof WContainer?this.parent.end():this},WContainer.prototype.grid=function(){return"row"==this.props&&this.parent instanceof WContainer?this.parent:this.parent instanceof WContainer?this.parent.grid():this},WContainer.prototype.row=function(){if("row"==this.props)return this;if(this.parent)return this.parent instanceof WContainer?this.parent.row():this;if(!this.components||!this.components.length)return this;for(var i=this.components.length-1;0<=i;i--){var c=this.components[i];if(c instanceof WContainer&&"row"==c.getProps())return c}return this},WContainer.prototype.col=function(){return"col"!=this.props&&this.parent instanceof WContainer?this.parent.col():this},WContainer.prototype.addDiv=function(hcss,inner,cls_att,id){if("number"!=typeof hcss)return r=WUX.build("div",inner,hcss,cls_att,id),this.add($(r));if(hcss<1)return this;var r=WUX.build("div",inner,{h:hcss,n:cls_att});return this.add($(r))},WContainer.prototype.addSpan=function(wcss,inner,cls_att,id){return inner="number"==typeof wcss?WUX.build("span",inner,{w:wcss,d:"inline-block",a:"center",n:cls_att}):WUX.build("span",inner,wcss,cls_att,id),this.add($(inner))},WContainer.prototype.addGroup=function(w){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];if(w){var cnt=this.addContainer(w);if(!ac||!ac.length)return this;for(var _a=0,ac_1=ac;_a<ac_1.length;_a++){var c=ac_1[_a];cnt.add(c)}return this}if(!ac||!ac.length)return this;for(var _b=0,ac_2=ac;_b<ac_2.length;_b++){c=ac_2[_b];this.add(c)}return this},WContainer.prototype.add=function(component,constraints){return component&&(component instanceof WUX.WComponent&&(component.parent||(component.parent=this)),"string"==typeof component&&0<component.length&&"<"==component.charAt(0)&&">"==component.charAt(component.length-1)&&(c=$(component)),this.components.push(c=c||component),this.layoutManager&&this.layoutManager.addLayoutComponent(c,constraints)),this;var c},WContainer.prototype.remove=function(index){if(!((index=index<0?this.components.length+index:index)<0||index>=this.components.length))return index=this.components.splice(index,1),this.layoutManager&&index.length&&this.layoutManager.removeLayoutComponent(index[0]),this},WContainer.prototype.removeAll=function(){if(this.layoutManager)for(var _i=0,_a=this.components;_i<_a.length;_i++){var element=_a[_i];this.layoutManager.removeLayoutComponent(element)}if(this.mounted){this.parent=null;for(var _b=0,_c=this.components;_b<_c.length;_b++){var c=_c[_b];c instanceof WUX.WComponent&&c.unmount()}}return this.components=[],this},WContainer.prototype.addRow=function(classStyle,style,id,attributes){id=new WContainer(id,null==classStyle?"row":classStyle,style,attributes,!1,"row");return id.name=id.name+"_row",this.grid().addContainer(id)},WContainer.prototype.addCol=function(classStyle,style,id,attributes){id=new WContainer(id,null==(classStyle=WUX.WUtil.isNumeric(classStyle)?"col-md-"+classStyle:classStyle)?"col":classStyle,style,attributes,!1,"col");return id.name=id.name+"_col",this.row().addContainer(id)},WContainer.prototype.addASide=function(classStyle,style,id,attributes){id=new WContainer(id,classStyle,style,attributes,!1,"aside");return id.name=id.name+"_aside",this.end().addContainer(id)},WContainer.prototype.addBox=function(title,classStyle,style,id,attributes){id=new WBox(id,title,classStyle,style,attributes);return this.addContainer(id),id},WContainer.prototype.addText=function(text,rowTag,classStyle,style,id,attributes){if(!text||!text.length)return this;for(var i,endRow="",s=(rowTag&&(endRow=0<(i=rowTag.indexOf(" "))?rowTag.substring(0,i):rowTag),""),_i=0,text_1=text;_i<text_1.length;_i++){var r=text_1[_i];if(r&&3<r.length){var b=r.substring(0,3);if("<ul"==b||"<ol"==b||"<li"==b||"<di"==b){s+=r;continue}}s+=rowTag&&"br"!=rowTag?"<"+rowTag+">"+r+"</"+endRow+">":r+"<br>"}return classStyle||style||id||attributes?this.add(WUX.build("div",s,style,attributes,id,classStyle)):this.add(s),this},WContainer.prototype.findBox=function(title_id){var bid="";title_id&&1<title_id.length&&"#"==title_id.charAt(0)&&(bid=title_id.substring(1));for(var _i=0,_a=this.components;_i<_a.length;_i++){var c=_a[_i];if(c instanceof WBox)if(bid){if(c.id==bid)return c}else{if(!title_id)return c;if(c.title==title_id||c.id==title_id)return c}else if(c instanceof WContainer){c=c.findBox(title_id);if(!c)return c}}return null},WContainer.prototype.addStack=function(style){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];if(!ac||0==ac.length)return this;for(var rowStyle=WUX.style(style),rowClass=WUX.cls(style),i=0;i<ac.length;i++){var row=new WContainer(this.subId(),rowClass,rowStyle).add(ac[i]);row.name=row.name+"_stack_"+i,this.addContainer(row)}return this},WContainer.prototype.addLine=function(style){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];if(!ac||0==ac.length)return this;for(var colStyle=WUX.style(style),colClass=WUX.cls(style),i=0;i<ac.length;i++){var c=ac[i],s=this.subId(),col=void 0;(col=(colClass||colStyle?colClass?new WContainer(s,colClass,null,null,!0):new WContainer(s,"",colStyle,null,!0):new WContainer(s,"",null,null,!0)).add(c)).name=col.name+"_line_"+i,this.addContainer(col)}return this},WContainer.prototype.addContainer=function(conid,classStyle,style,attributes,inline,props){if(conid instanceof WContainer)return null==this._classStyle&&conid._classStyle&&0==conid._classStyle.indexOf("row")&&(this.parent instanceof WContainer?this._classStyle=WUX.global.con_class:this._classStyle=WUX.global.main_class),conid.parent=this,conid.layoutManager||(conid.layoutManager=this.layoutManager),this.components.push(conid),this.layoutManager&&this.layoutManager.addLayoutComponent(conid,classStyle),conid;if("string"==typeof conid)return(style=new WContainer(conid,classStyle,style,attributes,inline,props)).layoutManager||(style.layoutManager=this.layoutManager),this.components.push(style),this.layoutManager&&this.layoutManager.addLayoutComponent(style),style;if(!conid)return this;attributes=WContainer.create(conid);return attributes.parent=this,attributes.layoutManager=this.layoutManager,this.components.push(attributes),this.layoutManager&&this.layoutManager.addLayoutComponent(attributes,classStyle),attributes},WContainer.prototype.render=function(){return this.parent||this._classStyle||this._style?this.build(this.rootTag):this.buildRoot(this.rootTag)},WContainer.prototype.make=function(){if(null==this.legend)return"";var fss=this.fieldsetStyle?' style="'+WUX.style(this.fieldsetStyle)+'"':"",lgs=this.legendStyle?' style="'+WUX.style(this.legendStyle)+'"':"";return'<fieldset id="'+this.subId("fs")+'"'+fss+"><legend"+lgs+">"+this.legend+"</legend></fieldset>"},WContainer.prototype.componentDidMount=function(){var $fs,node=this.root;if(null==this.legend||($fs=$("#"+this.subId("fs")))&&$fs.length&&(node=$fs),this.wrapper&&(node=WUX.addWrapper(node,this.wrapper)),this.layoutManager)this.layoutManager.layoutContainer(this,node);else for(var _i=0,_a=this.components;_i<_a.length;_i++){var element=_a[_i];element instanceof WUX.WComponent?element.mount(node):node.append(element)}},WContainer.prototype.componentWillUnmount=function(){for(var _i=0,_a=this.components;_i<_a.length;_i++){var c=_a[_i];c instanceof WUX.WComponent&&c.unmount()}},WContainer.prototype.rebuild=function(){var $fs,node=this.root;if(null!=this.legend&&($fs=$("#"+this.subId("fs")))&&$fs.length&&(node=$fs),node.empty(),this.wrapper&&(node=WUX.addWrapper(node,this.wrapper)),!this.layoutManager){for(var _i=0,_a=this.components;_i<_a.length;_i++){var element=_a[_i];element instanceof WUX.WComponent?element.mount(node):node.append(element)}return this}this.layoutManager.layoutContainer(this,node)},WContainer}(WUX.WComponent),WCardLayout=(WUX.WContainer=WContainer,function(){function WCardLayout(){this.mapConstraints={},this.mapComponents={}}return WCardLayout.prototype.addLayoutComponent=function(component,constraints){var cmpId;component&&constraints&&((cmpId=WUX.getId(component))&&(this.mapConstraints[cmpId]=constraints,this.mapComponents[constraints]=component))},WCardLayout.prototype.removeLayoutComponent=function(component){var constraints,component=WUX.getId(component);component&&(constraints=this.mapConstraints[component],delete this.mapConstraints[component],constraints&&delete this.mapComponents[constraints])},WCardLayout.prototype.layoutContainer=function(container,root){for(var curId=WUX.getId(this.currComp),_i=0,_a=container.components;_i<_a.length;_i++){var c=_a[_i],eleId=WUX.getId(c),ehide=!1;eleId&&eleId!=curId&&this.mapConstraints[eleId]&&(ehide=!0),c instanceof WUX.WComponent?(ehide&&(c.visible=!1),c.mount(root)):c instanceof jQuery&&ehide&&c.hide()}},WCardLayout.prototype.show=function(container,name){name=this.mapComponents[name];name&&(this.currComp instanceof WUX.WComponent?this.currComp.visible=!1:this.currComp instanceof jQuery&&this.currComp.show(),name instanceof WUX.WComponent?(name.visible=!0,this.currComp=name):this.currComp instanceof jQuery?(name.show(),this.currComp=name):this.currComp=void 0)},WCardLayout}()),WBox=(WUX.WCardLayout=WCardLayout,function(_super){function WBox(id,title,classStyle,style,attributes){id=_super.call(this,id,WUX.global.box_class,style,attributes,!1,"box")||this;return id.TOOL_COLLAPSE="collapse-link",id.TOOL_CLOSE="close-link",id.TOOL_FILTER="filter-link",id.name="WBox",id._addClassStyle=classStyle,id.title=title,id}return __extends(WBox,_super),Object.defineProperty(WBox.prototype,"title",{get:function(){return this._title},set:function(s){this._title&&this.header.remove(0),(this._title=s)&&("<"!=s.charAt(0)&&WUX.global.box_title?this.header.add(WUX.global.box_title.replace("$",s)):this.header.add(s))},enumerable:!1,configurable:!0}),WBox.prototype.addTool=function(tool,icon,attributes,handler){var _this=this;return tool&&("string"==typeof tool?(icon=icon||WUX.WIcon.WRENCH,this.cntls||(this.cntls=new WContainer("",WUX.global.box_tools),this.header.add(this.cntls),this.tools={}),icon=$('<a class="'+tool+'">'+WUX.buildIcon(icon)+"</a>"),this.cntls.add(icon),this.tools[tool]=icon,handler?tool==this.TOOL_COLLAPSE?this.handlers["_"+this.TOOL_COLLAPSE]=[function(e){_this.collapse(handler)}]:this.handlers["_"+tool]=[handler]:(tool==this.TOOL_COLLAPSE&&(this.handlers["_"+this.TOOL_COLLAPSE]=[function(e){_this.collapse()}]),tool==this.TOOL_CLOSE&&(this.handlers["_"+this.TOOL_CLOSE]=[function(e){_this.close()}]))):this.header.add(tool)),this},WBox.prototype.addCollapse=function(handler){return this.addTool(this.TOOL_COLLAPSE,WUX.WIcon.CHEVRON_UP,"",handler),this},WBox.prototype.addClose=function(handler){return this.addTool(this.TOOL_CLOSE,WUX.WIcon.TIMES,"",handler),this},WBox.prototype.addFilter=function(handler){return this.addTool(this.TOOL_FILTER,WUX.WIcon.FILTER,"",handler),this},Object.defineProperty(WBox.prototype,"header",{get:function(){return this._header||(this._header=new WContainer("",WUX.cls(WUX.global.box_header,this._addClassStyle)))},enumerable:!1,configurable:!0}),Object.defineProperty(WBox.prototype,"content",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(WBox.prototype,"footer",{get:function(){return this._footer||(this._footer=new WContainer("",WUX.cls(WUX.global.box_footer,this._addClassStyle)))},enumerable:!1,configurable:!0}),WBox.prototype.componentDidMount=function(){this._header&&this._header.mount(this.root);var boxContent=$(this.build("div","","",WUX.cls(WUX.global.box_content,this._addClassStyle),void 0,null));this.root.append(boxContent);for(var _i=0,_a=this.components;_i<_a.length;_i++){var element=_a[_i];element instanceof WUX.WComponent?element.mount(boxContent):boxContent.append(element)}if(this._footer&&this._footer.mount(this.root),this.tools)for(var t in this.tools){var hs=this.handlers["_"+t];if(hs&&hs.length)for(var _b=0,hs_1=hs;_b<hs_1.length;_b++){var h=hs_1[_b];this.tools[t].click(h)}}},WBox.prototype.componentWillUnmount=function(){_super.prototype.componentWillUnmount.call(this),this._header&&this._header.unmount(),this._footer&&this._footer.unmount()},WBox.prototype.end=function(){return this.parent instanceof WContainer?this.parent:this},WBox.prototype.addRow=function(classStyle,style,id,attributes){id=new WContainer(id,null==classStyle?"row":classStyle,style,attributes,!1,"row");return id.name=id.name+"_row",this.content.addContainer(id)},WBox.prototype.collapse=function(handler){if(!this.root)return this;handler&&handler(this.createEvent("_"+this.TOOL_COLLAPSE,{collapsed:this.isCollapsed()})),this.tools&&this.tools[this.TOOL_COLLAPSE]&&this.tools[this.TOOL_COLLAPSE].find("i").toggleClass(WUX.WIcon.CHEVRON_UP).toggleClass(WUX.WIcon.CHEVRON_DOWN);var d=this.root;return d.children(".ibox-content").slideToggle(200),d.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){d.resize(),d.find("[id^=map-]").resize()},50),this},WBox.prototype.expand=function(handler){return this.isCollapsed()&&this.collapse(handler),this},WBox.prototype.isCollapsed=function(){return!!this.root&&this.tools[this.TOOL_COLLAPSE].find("i").hasClass(WUX.WIcon.CHEVRON_DOWN)},WBox.prototype.close=function(){if(!this.root)return this;this.root.remove()},WBox}(WContainer)),WCardLayout=(WUX.WBox=WBox,function(_super){function WDialog(id,name,btnOk,btnClose,classStyle,style,attributes){void 0===btnOk&&(btnOk=!0),void 0===btnClose&&(btnClose=!0);var _this=_super.call(this,id,name=void 0===name?"WDialog":name,void 0,classStyle,style,attributes)||this;return _this.buttons=[],_this.tagTitle="h3",btnClose&&(btnOk||(_this.txtCancel=WUX.RES.CLOSE),_this.buttonCancel()),btnOk&&_this.buttonOk(),_this.ok=!1,_this.cancel=!1,_this.isShown=!1,_this.id&&"*"!=_this.id&&$("#"+_this.id).length&&$("#"+_this.id).remove(),WuxDOM.onRender(function(e){_this.mounted||_this.mount(e.element)}),_this}return __extends(WDialog,_super),WDialog.prototype.onShownModal=function(handler){this.on("shown.bs.modal",handler)},WDialog.prototype.onHiddenModal=function(handler){this.on("hidden.bs.modal",handler)},Object.defineProperty(WDialog.prototype,"header",{get:function(){return this.cntHeader||(this.cntHeader=new WContainer("","modal-header"),this.btnCloseHeader=new WButton(this.subId("bhc"),'<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',void 0,"close","",'data-dismiss="modal"'),this.cntHeader.add(this.btnCloseHeader),this.cntHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new WContainer("",WUX.cls("modal-body",this._classStyle),"",this._attributes),this.cntBody)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"footer",{get:function(){return this.cntFooter||(this.cntFooter=new WContainer("","modal-footer"),this.cntFooter)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"title",{get:function(){return this._title},set:function(s){this._title&&this.cntHeader?(this._title=s,this.cntHeader.getRoot().children(this.tagTitle+":first").text(s)):(this._title=s,this.header.add(this.buildTitle(s)))},enumerable:!1,configurable:!0}),WDialog.prototype.onClickOk=function(){return!0},WDialog.prototype.onClickCancel=function(){return!0},WDialog.prototype.buildBtnOK=function(){return new WButton(this.subId("bfo"),WUX.RES.OK,"",WUX.BTN.INFO+" button-sm","","")},WDialog.prototype.buildBtnCancel=function(){return this.txtCancel?new WButton(this.subId("bfc"),this.txtCancel,"",WUX.BTN.SECONDARY+" button-sm","",""):new WButton(this.subId("bfc"),WUX.RES.CANCEL,"",WUX.BTN.SECONDARY+" button-sm","","")},WDialog.prototype.buttonOk=function(){var _this=this;if(this.btnOK)return this.btnOK;this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(e){_this.onClickOk()&&(_this.ok=!0,_this.cancel=!1,_this.root.modal("hide"))}),this.buttons.push(this.btnOK)},WDialog.prototype.buttonCancel=function(){var _this=this;if(this.btnCancel)return this.btnCancel;this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(e){_this.onClickCancel()&&(_this.ok=!1,_this.cancel=!0,_this.root.modal("hide"))}),this.buttons.push(this.btnCancel)},WDialog.prototype.show=function(parent,handler){this.beforeShow()&&(this.ok=!1,this.cancel=!1,this.parent=parent,this.parentHandler=handler,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&this.root.modal({backdrop:"static",keyboard:!1}))},WDialog.prototype.hide=function(){this.root&&this.root.length&&this.root.modal("hide")},WDialog.prototype.close=function(){this.ok=!1,this.cancel=!1,this.root&&this.root.length&&this.root.modal("hide")},WDialog.prototype.selection=function(table,warn){if(!table)return!1;var sr=table.getSelectedRows();if(!sr||!sr.length)return warn&&WUX.showWarning(warn),!1;table=table.getSelectedRowsData();return table&&table.length?(null!=this.props&&"number"!=typeof this.props||(sr=sr[0],this.setProps(sr)),this.setState(table[0]),!0):(warn&&WUX.showWarning(warn),!1)},WDialog.prototype.beforeShow=function(){return!0},WDialog.prototype.onShown=function(){},WDialog.prototype.onHidden=function(){},WDialog.prototype.render=function(){this.isShown=!1,this.cntRoot=new WContainer(this.id,"modal inmodal fade","",'role="dialog" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("","modal-dialog modal-lg",this._style),this.cntContent=this.cntMain.addContainer("","modal-content"),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody);for(var _i=0,_a=this.buttons;_i<_a.length;_i++){var btn=_a[_i];this.footer.add(btn)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},WDialog.prototype.componentDidMount=function(){var _this=this;this.root.on("shown.bs.modal",function(e){_this.isShown=!0,_this.onShown()}),this.root.on("hidden.bs.modal",function(e){_this.isShown=!1,_this.onHidden(),_this.parentHandler&&(_this.parentHandler(e),_this.parentHandler=null)})},WDialog.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},WDialog.prototype.buildTitle=function(title){return this.tagTitle||(this.tagTitle="h3"),"<"+this.tagTitle+">"+WUX.WUtil.toText(title)+"</"+this.tagTitle+">"},WDialog}(WUX.WComponent)),WCardLayout=(WUX.WDialog=WCardLayout,function(_super){function WLabel(id,text,icon,classStyle,style,attributes){id=_super.call(this,id||"*","WLabel",icon,classStyle,style,attributes)||this;return id.rootTag="span",id.updateState(text),id}return __extends(WLabel,_super),Object.defineProperty(WLabel.prototype,"icon",{get:function(){return this.props},set:function(i){this.update(i,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),WLabel.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState=nextState||""),this.root&&this.root.html(WUX.buildIcon(this.props,""," ")+nextState)},WLabel.prototype.for=function(e){return this.forId=WUX.getId(e),this},WLabel.prototype.blink=function(n){return this.root&&this.root.length&&(this.blinks=n||3,this.highlight()),this},WLabel.prototype.highlight=function(){return this.root&&this.root.length&&this.blinks&&(this.blinks--,this.root.effect("highlight",{},600,this.highlight.bind(this))),this},WLabel.prototype.render=function(){var text=this.state||"";return this.forId?this.buildRoot("label",WUX.buildIcon(this.props,""," ")+text,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,WUX.buildIcon(this.props,""," ")+text,null,this._classStyle)},WLabel.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},WLabel}(WUX.WComponent)),WCardLayout=(WUX.WLabel=WCardLayout,function(_super){function WInput(id,type,size,classStyle,style,attributes){id=_super.call(this,id||"*","WInput",type,classStyle,style,attributes)||this;return id.rootTag="input",id.size=size,id.valueType="s",id.blurOnEnter=!1,id}return __extends(WInput,_super),WInput.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&this.root.val(nextState)},WInput.prototype.onEnterPressed=function(handler){this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(handler)},WInput.prototype.render=function(){var br,l="";return this.label&&(l=this.id?'<label for="'+this.id+'">':"<label>",l=0<(br=this.label.lastIndexOf("<br"))?l+this.label.substring(0,br).replace("<","&lt;").replace(">","&gt;")+"</label><br>":l+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),"static"==this.props?l+this.build("span",this.state):(br='name="'+this.id+'"',br+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(br+=' size="'+this.size+'"'),this.state&&(br+=' value="'+this.state+'"'),this.placeHolder&&(br+=' placeholder="'+this.placeHolder+'"'),l+this.build(this.rootTag,"",br))},WInput.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip);var _self=this;this.root.keypress(function(e){13==e.which&&(e=this.value,"c"==_self.valueType?this.value&&(this.value=WUX.formatCurr(WUX.WUtil.toNumber(this.value))):"c5"==_self.valueType?this.value&&(this.value=WUX.formatCurr5(WUX.WUtil.toNumber(this.value))):"n"==_self.valueType||"p"==_self.valueType?this.value&&(this.value=WUX.formatNum(this.value)):"i"==_self.valueType&&this.value&&(this.value=WUX.WUtil.toInt(this.value)),_self.trigger("statechange",e),_self.trigger("_enter"),_self.blurOnEnter&&$(this).blur())}),this.root.blur(function(e){var v=this.value;"c"==_self.valueType?this.value&&(this.value=WUX.formatCurr(WUX.WUtil.toNumber(this.value))):"c5"==_self.valueType?this.value&&(this.value=WUX.formatCurr5(WUX.WUtil.toNumber(this.value))):"n"==_self.valueType||"p"==_self.valueType?this.value&&(this.value=WUX.formatNum(this.value)):"i"==_self.valueType&&this.value&&(this.value=WUX.WUtil.toInt(this.value)),_self.state!=v&&_self.trigger("statechange",v)}),this.root.focus(function(e){var s;this.value&&("c"==_self.valueType||"c5"==_self.valueType?(0<=(s=0<=(s=WUX.formatNum(this.value)).indexOf(",00")&&s.indexOf(",00")==s.length-3?s.substring(0,s.length-3):s).indexOf(",0")&&s.indexOf(",0")==s.length-2&&(s=s.substring(0,s.length-3)),this.value=s):"n"==_self.valueType||"p"==_self.valueType?this.value=WUX.formatNum(this.value):"i"==_self.valueType&&(this.value=this.value=WUX.WUtil.toInt(this.value)),$(this).select())})},WInput}(WUX.WComponent)),WCardLayout=(WUX.WInput=WCardLayout,function(_super){function WTextArea(id,rows,classStyle,style,attributes){id=_super.call(this,id||"*","WTextArea",rows,classStyle,style,attributes)||this;return id.rootTag="textarea",rows||(id.props=5),id}return __extends(WTextArea,_super),WTextArea.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&this.root.val(this.state)},WTextArea.prototype.getState=function(){return this.root&&(this.state=WUX.norm(this.root.val())),this.state},WTextArea.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',WUX.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},WTextArea.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(WUX.den(this.state))},WTextArea}(WUX.WComponent)),WCardLayout=(WUX.WTextArea=WCardLayout,function(_super){function WCheck(id,text,value,checked,classStyle,style,attributes){id=_super.call(this,id||"*","WCheck",checked,classStyle,style,attributes)||this;return id.rootTag="input",id.value=value||"1",checked&&id.updateState(value),id._text=text,id}return __extends(WCheck,_super),Object.defineProperty(WCheck.prototype,"text",{get:function(){return!this._text&&this.$label?this.$label.text():this._text},set:function(s){!this._text&&this.$label?this.$label.text(s):(this._text=s,this.mounted&&this.root.html(s))},enumerable:!1,configurable:!0}),Object.defineProperty(WCheck.prototype,"checked",{get:function(){return this.props=this.root.is(":checked"),this.state=this.props?this.value:void 0,this.props},set:function(b){this.setProps(b)},enumerable:!1,configurable:!0}),WCheck.prototype.getState=function(){return this.checked?this.state=this.value:this.state=null,this.state},WCheck.prototype.updateProps=function(nextProps){_super.prototype.updateProps.call(this,nextProps),this.state=this.props?this.value:void 0,this.root&&this.root.prop("checked",this.props)},WCheck.prototype.updateState=function(nextState){"boolean"==typeof nextState&&(nextState=nextState?this.value:void 0),_super.prototype.updateState.call(this,nextState),this.root&&this.root.prop("checked",null!=this.state)},WCheck.prototype.render=function(){var addAttributes='name="'+this.id+'" type="checkbox"',inner=(addAttributes+=this.props?' checked="checked"':"",this._text?"&nbsp;"+this._text:"");return this.build(this.rootTag,inner,addAttributes)},WCheck.prototype.componentDidMount=function(){var _this=this;this._tooltip&&this.root.attr("title",this._tooltip),this.root.change(function(e){var checked=_this.root.is(":checked");_this.trigger("propschange",checked),_this.trigger("statechange",checked?_this.value:void 0)})},WCheck.prototype.getWrapper=function(style){return this.wrapper||(this.id?this.$label=this._text?$('<label for="'+this.id+'">'+this._text+"</label>"):$("<label></label>"):this.$label=this._text?$("<label>"+this._text+"</label>"):$("<label></label>"),this._text="",this.wrapper=new WUX.WContainer(this.subId(),"checkbox",style),this.wrapper.add(this),this.wrapper.add(this.$label),(this.wrapper.stateComp=this).wrapper)},WCheck}(WUX.WComponent)),WButton=(WUX.WCheck=WCardLayout,function(_super){function WButton(id,text,icon,classStyle,style,attributes,type){id=_super.call(this,id||"*","WButton",icon,classStyle,style,attributes)||this;return id.updateState(text),id.rootTag="button",id.type=type||"button",id}return __extends(WButton,_super),Object.defineProperty(WButton.prototype,"icon",{get:function(){return this.props},set:function(i){this.update(i,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),WButton.prototype.setText=function(text,icon){null!=icon&&(this.props=icon),this.setState(text)},WButton.prototype.render=function(){this._classStyle||(this._classStyle=WUX.BTN.PRIMARY);var addAttributes=this.type?'type="'+this.type+'"':"",html="";return this.state?html+=WUX.buildIcon(this.props,""," ")+this.state:html+=WUX.buildIcon(this.props),this.build(this.rootTag,html,addAttributes)},WButton.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},WButton.prototype.componentWillUpdate=function(nextProps,nextState){var html="";html+=nextState?WUX.buildIcon(this.props,""," ")+nextState:WUX.buildIcon(this.props),this.root.html(html)},WButton}(WUX.WComponent)),WCardLayout=(WUX.WButton=WButton,function(_super){function WLink(id,text,icon,classStyle,style,attributes,href,target){id=_super.call(this,id||"*","WLink",icon,classStyle,style,attributes)||this;return id.updateState(text),id.rootTag="a",id._href=href,id._target=target,id}return __extends(WLink,_super),Object.defineProperty(WLink.prototype,"icon",{get:function(){return this.props},set:function(s){this.update(s,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),Object.defineProperty(WLink.prototype,"href",{get:function(){return this._href},set:function(s){this._href=s,this.root&&this.root.length&&(s?this.root.attr("href",s):this.root.removeAttr("href"))},enumerable:!1,configurable:!0}),Object.defineProperty(WLink.prototype,"target",{get:function(){return this._target},set:function(s){this._target=s,this.root&&this.root.length&&(s?this.root.attr("target",s):this.root.removeAttr("target"))},enumerable:!1,configurable:!0}),WLink.prototype.render=function(){var addAttributes="",html=(this._href&&(addAttributes+='href="'+this._href+'"'),this._target&&(addAttributes&&(addAttributes+=" "),addAttributes+='target="'+this._target+'"'),"");return this.state?html+=WUX.buildIcon(this.icon,""," ")+this.state:html+=WUX.buildIcon(this.icon),this.build(this.rootTag,html,addAttributes)},WLink.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},WLink.prototype.componentWillUpdate=function(nextProps,nextState){var html="";html+=nextState?WUX.buildIcon(this.icon,""," ")+nextState:WUX.buildIcon(this.icon),this.root.html(html)},WLink}(WUX.WComponent)),WCardLayout=(WUX.WLink=WCardLayout,function(_super){function WTab(id,classStyle,style,attributes,props){id=_super.call(this,id||"*","WTab",props,classStyle,style,attributes)||this;return id.tabs=[],id}return __extends(WTab,_super),WTab.prototype.addTab=function(title,icon){var tab=new WContainer("","panel-body");return tab.name=WUX.buildIcon(icon,""," ")+title,this.tabs.push(tab),tab},WTab.prototype.render=function(){null==this.state&&(this.state=0);var r="<div";this._classStyle?r+=' class="tabs-container '+this._classStyle+'"':r+=' class="tabs-container"',r+=' id="'+this.id+'"',this._style&&(r+=' style="'+this._style+'"'),this.attributes&&(r+=" "+this.attributes);for(var r=r+">"+'<ul class="nav nav-tabs">',i=0;i<this.tabs.length;i++){var tab=this.tabs[i];i==this.state?r+='<li class="active"><a data-toggle="tab" href="#'+this.id+"-"+i+'"> '+tab.name+"</a></li>":r+='<li><a data-toggle="tab" href="#'+this.id+"-"+i+'"> '+tab.name+"</a></li>"}r+='</ul><div class="tab-content">';for(i=0;i<this.tabs.length;i++)i==this.state?r+='<div id="'+this.id+"-"+i+'" class="tab-pane active"></div>':r+='<div id="'+this.id+"-"+i+'" class="tab-pane"></div>';return r+="</div></div>"},WTab.prototype.componentDidUpdate=function(prevProps,prevState){$('.nav-tabs a[href="#'+this.id+"-"+this.state+'"]').tab("show")},WTab.prototype.componentDidMount=function(){if(this.tabs.length){for(var i=0;i<this.tabs.length;i++){var container=this.tabs[i],tabPane=$("#"+this.id+"-"+i);tabPane.length&&container.mount(tabPane)}var _self=this;this.root.find('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var sep,e=$(e.target).attr("href");e&&0<=(sep=e.lastIndexOf("-"))&&_self.setState(parseInt(e.substring(sep+1)))})}},WTab.prototype.componentWillUnmount=function(){for(var _i=0,_a=this.tabs;_i<_a.length;_i++){var c=_a[_i];c&&c.unmount()}},WTab}(WUX.WComponent)),WCardLayout=(WUX.WTab=WCardLayout,function(_super){function WSelect(id,options,multiple,classStyle,style,attributes){id=_super.call(this,id||"*","WSelect",null,classStyle,style,attributes)||this;return id.rootTag="select",id.options=options,id.multiple=multiple,id}return __extends(WSelect,_super),WSelect.prototype.getProps=function(){var _this=this;return this.root&&(this.props=[],this.root.find("option:selected").each(function(i,e){_this.props.push($(e).text())})),this.props},WSelect.prototype.select=function(i){return this.root&&this.options&&this.setState(this.options.length>i?this.options[i]:null),this},WSelect.prototype.addOption=function(e,sel){if(!e)return this;if(this.options||(this.options=[]),this.options.push(e),!this.mounted)return this;var o=this.buildOptions();return this.root.html(o),sel&&this.updateState(e),this},WSelect.prototype.remOption=function(e){if(!e||!this.options)return this;for(var x=-1,i=0;i<this.options.length;i++){var s=this.options[i];if(s)if("string"==typeof e){if("string"==typeof s){if(s==e){x=i;break}}else if(s.id==e){x=i;break}}else if("string"==typeof s){if(s==e.id){x=i;break}}else if(s.id==e.id){x=i;break}}if(0<=x){if(this.options.splice(x,1),!this.mounted)return this;var o=this.buildOptions();this.root.html(o)}return this},WSelect.prototype.setOptions=function(options,prevVal){if(this.options=options,!this.mounted)return this;var pv=this.root.val(),o=this.buildOptions();return this.root.html(o),prevVal?this.root.val(pv):options&&options.length&&("string"==typeof options[0]?this.trigger("statechange",options[0]):this.trigger("statechange",WUX.WUtil.getString(options[0],"id"))),this},WSelect.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&(null==this.state?this.root.val(""):"string"==typeof this.state||"number"==typeof this.state?this.root.val(""+this.state):this.root.val(this.state.id))},WSelect.prototype.render=function(){var o=this.buildOptions(),addAttributes='name="'+this.id+'"';return this.multiple&&(addAttributes+=' multiple="multiple"'),this.buildRoot("select",o,addAttributes)},WSelect.prototype.componentDidMount=function(){var _this=this;this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(this.state),this.root.on("change",function(e){_this.trigger("statechange",_this.root.val())})},WSelect.prototype.buildOptions=function(){var r="";this.options||(this.options=[]);for(var _i=0,_a=this.options;_i<_a.length;_i++){var opt=_a[_i];r+="string"==typeof opt?"<option>"+opt+"</option>":'<option value="'+opt.id+'">'+opt.text+"</option>"}return r},WSelect}(WUX.WComponent)),WRadio=(WUX.WSelect=WCardLayout,function(_super){function WRadio(id,options,classStyle,style,attributes,props){id=_super.call(this,id||"*","WRadio",props,classStyle,style,attributes)||this;return id.options=options,id}return __extends(WRadio,_super),Object.defineProperty(WRadio.prototype,"tooltip",{set:function(s){if(this._tooltip=s,this.internal&&(this.internal.tooltip=s),this.options&&this.options.length)for(var i=0;i<this.options.length;i++){var $item=$("#"+this.id+"-"+i);$item.length&&this._tooltip&&$item.attr("title",this._tooltip)}},enumerable:!1,configurable:!0}),WRadio.prototype.select=function(i){return this.root&&this.options&&this.setState(this.options.length>i?this.options[i]:null),this},WRadio.prototype.render=function(){var r="";if(this.label&&(r=(r+=this.id?'<label for="'+this.id+'">':"<label>")+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),!this.options||!this.options.length)return r;void 0===this.state&&(this.state=this.options[0]);for(var i=0;i<this.options.length;i++){var opt=this.options[i];"string"==typeof opt?WUX.match(this.state,opt)?r+='&nbsp;<label style="display:inline;"><input type="radio" value="'+opt+'" name="'+this.id+'" id="'+this.id+"-"+i+'" checked> '+opt+"</label>&nbsp;":r+='&nbsp;<label style="display:inline;"><input type="radio" value="'+opt+'" name="'+this.id+'" id="'+this.id+"-"+i+'"> '+opt+"</label>&nbsp;":WUX.match(this.state,opt)?r+='&nbsp;<label style="display:inline;"><input type="radio" value="'+opt.id+'" name="'+this.id+'" id="'+this.id+"-"+i+'" checked> '+opt.text+"</label>&nbsp;":r+='&nbsp;<label style="display:inline;"><input type="radio" value="'+opt.id+'" name="'+this.id+'" id="'+this.id+"-"+i+'"> '+opt.text+"</label>&nbsp;"}return r},WRadio.prototype.componentDidMount=function(){var _this=this;if(this.options&&this.options.length)for(var this_1=this,i=0;i<this.options.length;i++)!function(i){var $item=$("#"+this_1.id+"-"+i);if(!$item.length)return;this_1._tooltip&&$item.attr("title",this_1._tooltip);var opt=this_1.options[i];$item.click(function(){_this.setState(opt)})}(i)},WRadio.prototype.componentDidUpdate=function(prevProps,prevState){for(var idx=-1,i=0;i<this.options.length;i++)if(WUX.match(this.state,this.options[i])){idx=i;break}0<=idx&&$("#"+this.id+"-"+idx).prop("checked",!0)},WRadio}(WUX.WComponent)),WCardLayout=(WUX.WRadio=WRadio,function(_super){function WTable(id,header,keys,classStyle,style,attributes,props){var _this=_super.call(this,id||"*","WTable",props,classStyle,style,attributes)||this;if(_this.selectedRow=-1,_this.rootTag="table",_this.header=header,keys&&keys.length)_this.keys=keys;else if(_this.keys=[],_this.header)for(var i=0;i<_this.header.length;i++)_this.keys.push(i);return _this.widths=[],_this.templates=[],_this.boldNonZero=!1,_this.selClass="success",_this}return __extends(WTable,_super),WTable.prototype.onSelectionChanged=function(handler){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(handler)},WTable.prototype.onDoubleClick=function(handler){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(handler)},WTable.prototype.onRowPrepared=function(handler){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(handler)},WTable.prototype.onCellClick=function(handler){this.handlers._cellclick||(this.handlers._cellclick=[]),this.handlers._cellclick.push(handler)},WTable.prototype.onCellHoverChanged=function(handler){this.handlers._cellhover||(this.handlers._cellhover=[]),this.handlers._cellhover.push(handler)},WTable.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this;if(this.root.find("tbody tr").removeClass("success"),!this.handlers._selectionchanged)return this;for(var _i=0,_a=this.handlers._selectionchanged;_i<_a.length;_i++)(0,_a[_i])({element:this.root,selectedRowsData:[]});return this},WTable.prototype.select=function(idxs){if(this.selectedRow=idxs&&idxs.length?idxs[0]:-1,!this.mounted)return this;this.root.find("tbody tr").removeClass("success");for(var _i=0,idxs_1=idxs;_i<idxs_1.length;_i++){var idx=idxs_1[_i];this.root.find("tbody tr:eq("+idx+")").addClass("success")}if(!this.handlers._selectionchanged)return this;for(var _a=0,_b=this.handlers._selectionchanged;_a<_b.length;_a++)(0,_b[_a])({element:this.root,selectedRowsData:[]});return this},WTable.prototype.selectAll=function(toggle){if(!this.mounted)return this;if(this.root.find("tbody tr").addClass("success"),!this.handlers._selectionchanged)return this;for(var _i=0,_a=this.handlers._selectionchanged;_i<_a.length;_i++)(0,_a[_i])({element:this.root,selectedRowsData:[]});return this},WTable.prototype.getSelectedRows=function(){return!this.mounted||this.selectedRow<0?[]:[this.selectedRow]},WTable.prototype.getSelectedRowsData=function(){return!this.mounted||this.selectedRow<0||!this.state||!this.state.length||this.state.length<=this.selectedRow?[]:this.state[this.selectedRow]},WTable.prototype.getFilteredRowsData=function(){return this.state},WTable.prototype.refresh=function(){return this},WTable.prototype.getCellValue=function(r,c){if(r<0||c<0)return null;if(!this.state||this.state.length<=r)return null;if(!this.keys||this.keys.length<=c)return null;c=this.keys[c],r=this.state[r];return WUX.WUtil.getValue(r,c)},WTable.prototype.getColHeader=function(c){return c<0||!this.header||this.header.length<=c?"":this.header[c]},WTable.prototype.render=function(){if(this.shouldBuildRoot()){var tableClass="table",ts=(this._classStyle&&(tableClass=0<=this._classStyle.indexOf("table ")?this._classStyle:tableClass+" "+this._classStyle),this.style?' style="'+this.style+'"':""),r='<div class="table-responsive"><table id="'+this.id+'" class="'+tableClass+'"'+ts+">";if(this.header&&this.header.length){var ths=!1;if("string"==typeof this.headStyle?0<this.headStyle.indexOf("text-align")&&(ths=!0):this.headStyle&&this.headStyle.a&&(ths=!0),!this.hideHeader){r+=ths?"<thead><tr>":"<thead><tr"+WUX.buildCss(this.headStyle)+">";for(var j=-1,_i=0,_a=this.header;_i<_a.length;_i++){var h=_a[_i],s=void 0,s=0==++j?this.col0Style||this.colStyle:j==this.header.length-1?this.colLStyle||this.colStyle:ths?this.headStyle:this.colStyle,w=this.widths&&this.widths.length>j?this.widths[j]:0;w?this.widthsPerc?r+="<th"+WUX.buildCss(s,{w:w+"%"})+">"+h+"</th>":r+="<th"+WUX.buildCss(s,{w:w})+">"+h+"</th>":r+="<th"+WUX.buildCss(s)+">"+h+"</th>"}r+="</tr></thead>"}}return r=r+"<tbody></tbody>"+"</table></div>"}},WTable.prototype.componentDidMount=function(){this.buildBody();var _self=this;this.root.on("click","tbody tr",function(e){if(_self.handlers._selectionchanged){if(!_self.selectionMode||"none"==_self.selectionMode)return}else if(!_self.selectionMode||"none"==_self.selectionMode)return;var $this=$(this),rowData=($this.addClass("success").siblings().removeClass("success"),_self.selectedRow=$this.index(),_self.state&&_self.state.length?_self.state[_self.selectedRow]:void 0);if(_self.handlers._selectionchanged)for(var _i=0,_a=_self.handlers._selectionchanged;_i<_a.length;_i++)(0,_a[_i])({element:_self.root,selectedRowsData:[rowData]})}),this.root.on("click","tbody tr td",function(e){if(_self.handlers._cellclick)for(var $this=$(this),r=$this.parent().index(),c=$this.index(),_i=0,_a=_self.handlers._cellclick;_i<_a.length;_i++)(0,_a[_i])({element:_self.root,rowIndex:r,colIndex:c})}),this.root.on("mouseover","tbody tr td",function(e){if(_self.handlers._cellhover)for(var $this=$(this),r=$this.parent().index(),c=$this.index(),_i=0,_a=_self.handlers._cellhover;_i<_a.length;_i++)(0,_a[_i])({element:_self.root,rowIndex:r,colIndex:c})}),this.root.on("dblclick","tbody tr",function(e){if(_self.handlers._doubleclick)for(var _i=0,_a=_self.handlers._doubleclick;_i<_a.length;_i++)(0,_a[_i])({element:_self.root})})},WTable.prototype.componentDidUpdate=function(prevProps,prevState){this.buildBody()},WTable.prototype.buildBody=function(){this.selectedRow=-1;var tbody=this.root.find("tbody");if(tbody.html(""),this.state&&this.state.length&&this.keys&&this.keys.length)for(var i=-1,_i=0,_a=this.state;_i<_a.length;_i++){var row=_a[_i],$r=void 0,$r=++i==this.state.length-1&&this.footerStyle?$(WUX.build("tr","",this.footerStyle)):$(WUX.build("tr","",this.rowStyle));if(tbody.append($r),this.handlers._rowprepared)for(var e={element:this.root,rowElement:$r,data:row,rowIndex:i},_b=0,_c=this.handlers._rowprepared;_b<_c.length;_b++)(0,_c[_b])(e);for(var j=-1,_d=0,_e=this.keys;_d<_e.length;_d++){var v=row[_e[_d]],align="";switch(null==v&&(v=""),j++,WUX.WUtil.getItem(this.types,j)){case"w":align="text-center";break;case"c":v=WUX.formatCurr(v),align="text-right";break;case"c5":v=WUX.formatCurr5(v),align="text-right";break;case"i":v=WUX.formatNum(v),align="text-right";break;case"n":v=WUX.formatNum2(v),align="text-right";break;case"d":v=WUX.formatDate(v);break;case"t":v=WUX.formatDateTime(v);break;case"b":v=v?"&check;":"";break;default:"number"==typeof(v="boolean"==typeof(v=v instanceof Date?WUX.formatDate(v):v)?v?"&check;":"":v)&&(v=WUX.formatNum2(v),align="text-right")}var s=void 0,w=("string"==typeof(s=0==j?this.col0Style||this.colStyle:j==this.header.length-1&&this.colLStyle||this.colStyle)?0<s.indexOf("text-align")&&(align=""):s&&s.a&&(align=""),this.widths&&this.widths.length>j?this.widths[j]:0),f=this.templates&&this.templates.length>j?this.templates[j]:void 0;if(f)f($td=$("<td"+WUX.buildCss(s,align,{w:w})+"></td>"),{data:row,text:v}),$r.append($td);else if(WUX.WUtil.hasComponents(v))for(var _f=0,ac_3=WUX.WUtil.toArrayComponent(v);_f<ac_3.length;_f++){var c=ac_3[_f],$td=$("<td"+WUX.buildCss(s,align,{w:w})+"></td>");$r.append($td),c.mount($td)}else this.boldNonZero&&0!=v&&"0"!=v&&""!=v?$r.append($("<td"+WUX.buildCss(s,align,{w:w})+"><strong>"+v+"</strong></td>")):$r.append($("<td"+WUX.buildCss(s,align,{w:w})+">"+v+"</td>"))}if(this.header&&this.header.length>this.keys.length)for(var i_1=0;i_1<this.header.length-this.keys.length;i_1++)$r.append($("<td"+WUX.buildCss(this.colStyle)+"></td>"))}},WTable}(WUX.WComponent)),WCardLayout=(WUX.WTable=WCardLayout,function(_super){function WFormPanel(id,title,action,props){id=_super.call(this,id||"*","WFormPanel",props)||this;return id.rootTag="form",id._attributes=action?'role="form" name="'+id.id+'" action="'+action+'"':'role="form" name="'+id.id+'" action="javascript:void(0);"',id.stateChangeOnBlur=!1,id.inputClass=WUX.CSS.FORM_CTRL,id.title=title,id.nextOnEnter=!0,id.autoValidate=!1,id.init(),id}return __extends(WFormPanel,_super),WFormPanel.prototype.init=function(){return this.rows=[],this.roww=[],this.hiddens=[],this.internals={},this.components=[],this.captions=[],this.dpids=[],this.nextMap={},this.mapTooltips={},this.mapLabelLinks={},this.minValues={},this.maxValues={},this.footer=[],this.currRow=null,this.addRow(),this},WFormPanel.prototype.focus=function(){if(!this.mounted)return this;var f=this.first(!0);return f&&(f.component?f.component.focus():f.element&&f.element.focus()),this},WFormPanel.prototype.first=function(enabled){if(!this.rows)return null;for(var _i=0,_a=this.rows;_i<_a.length;_i++)for(var _b=0,row_1=_a[_i];_b<row_1.length;_b++){var f=row_1[_b];if(!enabled)return f;if((null==f.enabled||f.enabled)&&(null==f.readonly||!f.readonly))return f}return null},WFormPanel.prototype.focusOn=function(fieldId){if(!this.mounted)return this;fieldId=this.getField(fieldId);return fieldId&&(fieldId.component?fieldId.component.focus():fieldId.element&&fieldId.element.focus()),this},WFormPanel.prototype.onEnterPressed=function(h){h&&(this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(h),this.nextOnEnter=!1)},WFormPanel.prototype.onEnd=function(h){h&&(this.handlers._end||(this.handlers._end=[]),this.handlers._end.push(h))},WFormPanel.prototype.onChangeDate=function(h){h&&(this.handlers._changedate||(this.handlers._changedate=[]),this.handlers._changedate.push(h))},WFormPanel.prototype.addToFooter=function(c,sep){return(c||this.footer)&&(null!=sep&&(this.footerSep=sep),this.footer.push(c)),this},WFormPanel.prototype.addRow=function(classStyle,style,id,attributes,type){return void 0===type&&(type="row"),this.currRow&&!this.currRow.length?this.roww[this.roww.length-1]={classStyle:classStyle,style:style,id:id,attributes:WUX.attributes(attributes),type:type}:(this.currRow=new Array,this.rows.push(this.currRow),this.roww.push({classStyle:classStyle,style:style,id:id,attributes:WUX.attributes(attributes),type:type})),this},WFormPanel.prototype.addTextField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Text,readonly:readonly}),this},WFormPanel.prototype.addNoteField=function(fieldId,label,rows,readonly){return rows=rows||3,this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Note,attributes:'rows="'+rows+'"',readonly:readonly}),this},WFormPanel.prototype.addCurrencyField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Text,readonly:readonly,valueType:"c",style:{a:"right"}}),this},WFormPanel.prototype.addCurrency5Field=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Text,readonly:readonly,valueType:"c5",style:{a:"right"}}),this},WFormPanel.prototype.addIntegerField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Text,readonly:readonly,valueType:"i"}),this},WFormPanel.prototype.addDecimalField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Text,readonly:readonly,valueType:"n"}),this},WFormPanel.prototype.addDateField=function(fieldId,label,readonly,minDate,maxDate){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Date,readonly:readonly,valueType:"d",minValue:minDate,maxValue:maxDate}),this},WFormPanel.prototype.addOptionsField=function(fieldId,label,options,attributes,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Select,readonly:readonly,options:options,attributes:attributes}),this},WFormPanel.prototype.addBooleanField=function(fieldId,label){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.CheckBox}),this},WFormPanel.prototype.addBlankField=function(label,classStyle,style,id,attributes,inner){return this.currRow.push({id:id,label:label,type:WUX.WInputType.Blank,classStyle:classStyle,style:style,attributes:attributes,placeholder:inner}),this},WFormPanel.prototype.addRadioField=function(fieldId,label,options){options=new WRadio(this.subId(fieldId),options);return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Radio,component:options}),this},WFormPanel.prototype.addPasswordField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Password,readonly:readonly}),this},WFormPanel.prototype.addEmailField=function(fieldId,label,readonly){return this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Email,readonly:readonly}),this},WFormPanel.prototype.addComponent=function(fieldId,label,component,readonly){return component&&(fieldId?(component.id=this.subId(fieldId),this.currRow.push({id:this.subId(fieldId),label:label,type:WUX.WInputType.Component,component:component,readonly:readonly}),component instanceof WUX.WInput&&(component.classStyle||(component.classStyle=WUX.CSS.FORM_CTRL))):(component.id="",this.currRow.push({id:"",label:label,type:WUX.WInputType.Component,component:component,readonly:readonly})),this.components.push(component)),this},WFormPanel.prototype.addCaption=function(label,icon,classStyle,style){if(label)return label=new WUX.WLabel("",label,icon,classStyle,style),this.currRow.push({id:"",label:"",type:WUX.WInputType.Component,component:label,readonly:!0}),this.components.push(label),this.captions.push(label),this},WFormPanel.prototype.addInternalField=function(fieldId,value){return this.internals[fieldId]=value=void 0===value?null:value,this},WFormPanel.prototype.addHiddenField=function(fieldId,value){return this.hiddens.push({id:this.subId(fieldId),type:WUX.WInputType.Hidden,value:value}),this},WFormPanel.prototype.setTooltip=function(fieldId,text){fieldId=this.getField(fieldId);return fieldId&&(text?this.mapTooltips[fieldId.id]=text:delete this.mapTooltips[fieldId.id]),this},WFormPanel.prototype.setLabelLinks=function(fieldId,links){fieldId=this.getField(fieldId);return fieldId&&(links&&links.length?this.mapLabelLinks[fieldId.id]=links:delete this.mapLabelLinks[fieldId.id]),this},WFormPanel.prototype.setReadOnly=function(fieldId,readonly){if("string"==typeof fieldId){if(!(f=this.getField(fieldId)))return this;f.readonly=readonly,this.mounted&&(f.component?f.component.enabled=!readonly:($f=$("#"+f.id),"select"==WUX.getTagName($f)?readonly?$f.prop("disabled",!0):$f.prop("disabled",!1):$f.prop("readonly",readonly)))}else for(var i=0;i<this.rows.length;i++)for(var f,$f,row=this.rows[i],j=0;j<row.length;j++)(f=row[j]).readonly=fieldId,this.mounted&&(f.component?f.component.enabled=!fieldId:($f=$("#"+f.id),"select"==WUX.getTagName($f)?fieldId?$f.prop("disabled",!0):$f.prop("disabled",!1):$f.prop("readonly",fieldId)));return this.trigger("propschange"),this},Object.defineProperty(WFormPanel.prototype,"enabled",{set:function(b){this._enabled=b;for(var i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];f.enabled=b,this.mounted&&(f.component?f.component.enabled=b:$("#"+f.id).prop("disabled",!b))}},enumerable:!1,configurable:!0}),WFormPanel.prototype.setEnabled=function(fieldId,enabled){if("string"==typeof fieldId){var f=this.getField(fieldId);if(!f)return this;f.enabled=enabled,this.mounted&&(f.component?f.component.enabled=enabled:$("#"+f.id).prop("disabled",!enabled))}else this.enabled=fieldId;return this.trigger("propschange"),this},WFormPanel.prototype.setVisible=function(fieldId,visible){fieldId=this.getField(fieldId);return fieldId&&(fieldId.visible=visible,this.mounted&&(fieldId.component?fieldId.component.visible=visible:visible?$("#"+fieldId.id).show():$("#"+fieldId.id).hide(),fieldId.label&&(visible?$('label[for="'+fieldId.id+'"]').show():$('label[for="'+fieldId.id+'"]').hide())),this.trigger("propschange")),this},WFormPanel.prototype.setLabelCss=function(fieldId,css){var fieldId=this.getField(fieldId);return fieldId&&(fieldId.labelCss=css,this.mounted&&(fieldId=$('label[for="'+fieldId.id+'"]')).length&&WUX.setCss(fieldId,css)),this},WFormPanel.prototype.setLabelText=function(fieldId,t){var fieldId=this.getField(fieldId);return fieldId&&(fieldId.label=t,this.mounted&&(fieldId=$('label[for="'+fieldId.id+'"]')).length&&fieldId.html(t)),this},WFormPanel.prototype.setSpanField=function(fieldId,span){fieldId=this.getField(fieldId);return fieldId&&(fieldId.span=span),this},WFormPanel.prototype.getField=function(fid){if(fid)for(var sid=0==fid.indexOf(this.id+"-")?fid:this.subId(fid),i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];if(f.id==sid)return f}},WFormPanel.prototype.onMount=function(fid,h){fid=this.getField(fid);return fid&&(fid.onmount=h),this},WFormPanel.prototype.onFocus=function(fid,h){fid=this.getField(fid);return fid&&(fid.onfocus=h),this},WFormPanel.prototype.onBlur=function(fid,h){fid=this.getField(fid);return fid&&(fid.onblur=h),this},WFormPanel.prototype.getStateOf=function(fid){fid=this.getField(fid);return fid&&fid.component?fid.component.getState():null},WFormPanel.prototype.getPropsOf=function(fid){fid=this.getField(fid);return fid&&fid.component?fid.component.getProps():null},WFormPanel.prototype.next=function(fid){if(fid){var sid=0==fid.indexOf(this.id+"-")?fid:this.subId(fid);if(this.nextMap){fid=this.nextMap[this.ripId(sid)];if(fid){fid=this.getField(fid);if(fid)return fid}}for(var x=!1,i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];if(x)return f;f.id==sid&&(x=!0)}}},WFormPanel.prototype.setMandatory=function(){for(var fids=[],_i=0;_i<arguments.length;_i++)fids[_i]=arguments[_i];if(!this.rows)return this;for(var sids=[],_a=0,fids_1=fids;_a<fids_1.length;_a++){var fid=fids_1[_a],fid=0==fid.indexOf(this.id+"-")?fid:this.subId(fid);sids.push(fid)}for(var i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];0<=sids.indexOf(f.id)?f.required=!0:f.required=!1}return this},WFormPanel.prototype.checkMandatory=function(labels,focus,atLeastOne){for(var values=(values=this.getState())||{},r="",x="",a=!1,i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j],id=this.ripId(f.id),v=values[id];f.required&&(null==v||""==v?(r+=labels?","+f.label:","+id,x=x||id):a=!0)}return atLeastOne&&a?"":(x&&focus&&this.focusOn(x),r&&r.substring(1))},WFormPanel.prototype.getState=function(){return this.state=this.autoValidate?this.validate():this.getValues(),this.state},WFormPanel.prototype.render=function(){return this.buildRoot(this.rootTag)},WFormPanel.prototype.componentDidMount=function(){var _this=this;this.inputClass||(this.inputClass=WUX.CSS.FORM_CTRL),this.minValues={},this.maxValues={},this.dpids=[];for(var i=0;i<this.rows.length;i++){for(var c,w=this.roww[i],r="<div",$r=(w?((c=WUX.cls(w.type,w.classStyle,w.style))&&(r+=' class="'+c+'"'),(c=WUX.style(w.style))&&(r+=' style="'+c+'"'),w.id&&(r+=' id="'+w.id+'"'),w.attributes&&(r+=" "+w.attributes)):r+=' class="row"',r+="></div>",$(r)),row=(this.root.append($r),this.rows[i]),cols=0,j=0;j<row.length;j++)(f=row[j]).type!==WUX.WInputType.Hidden&&(cols+=f.span&&0<f.span?f.span:1);for(j=0;j<row.length;j++){var f=row[j];if(f.id&&(f.minValue&&(this.minValues[f.id]=f.minValue),f.maxValue&&(this.maxValues[f.id]=f.maxValue)),f.type!==WUX.WInputType.Hidden){var cs=Math.floor(12/cols),cs=(1==(cs=cs<1?1:cs)&&cols<11&&(0==j||j==cols-1)&&(cs=2),f.span&&0<f.span&&(cs*=f.span),$('<div class="col-md-'+cs+'"></div>')),$fg=($r.append(cs),$('<div class="form-group"></div>'));if(cs.append($fg),f.label){var lc,ls,cs="",af="";if(f.labelCss?((lc=WUX.cls(f.labelCss))&&(cs+=' class="'+lc+'"'),(ls=WUX.style(f.labelCss))&&(cs+=' style="'+ls+'"')):f.required&&((lc=WUX.cls(WUX.CSS.FIELD_REQUIRED))&&(cs+=' class="'+lc+'"'),(ls=WUX.style(WUX.CSS.FIELD_REQUIRED))&&(cs+=' style="'+ls+'"'),af=" *"),f.id&&this.mapTooltips[f.id]?$fg.append($('<label for="'+f.id+'" title="'+this.mapTooltips[f.id]+'"'+cs+">"+f.label+af+"</label>")):f.id?$fg.append($('<label for="'+f.id+'" title="'+f.label+'"'+cs+">"+f.label+af+"</label>")):$fg.append($('<label title="'+f.label+'"'+cs+">"+f.label+af+"</label>")),f.id&&this.mapLabelLinks[f.id])for(var _i=0,_a=this.mapLabelLinks[f.id];_i<_a.length;_i++){var link=_a[_i],$sl=$('<span style="padding-left:8px;"></span>');$fg.append($sl),link.mount($sl)}}switch(f.type){case WUX.WInputType.Blank:f.element=$(WUX.build("div",f.placeholder,f.style,f.attributes,f.id,f.classStyle));break;case WUX.WInputType.Text:var ir='<input type="text" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" ';f.readonly&&(ir+="readonly "),0==f.enabled&&(ir+="disabled "),f.style&&(ir+=' style="'+WUX.style(f.style)+'"'),ir+="/>",f.element=$(ir);break;case WUX.WInputType.Note:ir='<textarea name="'+f.id+'" id="'+f.id+'" class="form-control" ';f.attributes&&(ir+=f.attributes+" "),f.readonly&&(ir+="readonly "),0==f.enabled&&(ir+="disabled "),f.style&&(ir+=' style="'+WUX.style(f.style)+'"'),ir+="></textarea>",f.element=$(ir);break;case WUX.WInputType.Date:this.dpids.push(f.id);var dr='<div class="input-group" id="igd-'+f.id+'">',dr=(dr+='<span class="input-group-addon">'+WUX.buildIcon(WUX.WIcon.CALENDAR)+"</span> ")+('<input type="text" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" ');f.readonly&&(dr+="readonly "),0==f.enabled&&(dr+="disabled "),dr+="/></div>",f.element=$(dr);break;case WUX.WInputType.CheckBox:this.checkboxStyle||(dr=Math.round(.8*parseInt(this.root.css("font-size"))),(isNaN(dr)||dr<16)&&(dr=16),this.checkboxStyle="height:"+dr+"px;"),2<this.checkboxStyle.length?f.element=$('<input type="checkbox" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" style="'+this.checkboxStyle+'"/>'):f.element=$('<input type="checkbox" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'"/>');break;case WUX.WInputType.Radio:f.component&&f.component.mount($fg);break;case WUX.WInputType.Select:var sr="";if(f.attributes?(sr+='<select name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" '+f.attributes,!f.readonly&&0!=f.enabled||(sr+=" disabled")):(sr+='<select name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'"',!f.readonly&&0!=f.enabled||(sr+="disabled")),sr+=">",f.options&&0<f.options.length)for(var k=0;k<f.options.length;k++){var opt=f.options[k];sr+="string"==typeof opt?"<option>"+opt+"</option>":'<option value="'+opt.id+'">'+opt.text+"</option>"}sr+="</select>",f.element=$(sr);break;case WUX.WInputType.Email:var ie='<input type="text" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" ';f.readonly&&(ie+="readonly "),0==f.enabled&&(ie+="disabled "),f.style&&(ie+=' style="'+WUX.style(f.style)+'"'),ie+="/>",f.element=$(ie);break;case WUX.WInputType.Password:ie='<input type="password" name="'+f.id+'" id="'+f.id+'" class="'+this.inputClass+'" ';f.readonly&&(ie+="readonly "),0==f.enabled&&(ie+="disabled "),f.style&&(ie+=' style="'+WUX.style(f.style)+'"'),ie+="/>",f.element=$(ie);break;case WUX.WInputType.Component:f.component&&(0!=f.enabled&&!f.readonly||(f.component.enabled=!1),f.component.mount($fg),f.onmount&&f.onmount(f),f.onfocus&&f.component.on("focus",f.onfocus),f.onblur&&f.component.on("blur",f.onblur))}f.element&&($fg.append(f.element),f.type==WUX.WInputType.Text&&("c"==f.valueType||"c5"==f.valueType?(f.element.focus(function(e){var s;this.value&&(0<=(s=0<=(s=WUX.formatNum(this.value)).indexOf(",00")&&s.indexOf(",00")==s.length-3?s.substring(0,s.length-3):s).indexOf(",0")&&s.indexOf(",0")==s.length-2&&(s=s.substring(0,s.length-3)),this.value=s,$(this).select())}),"c"==f.valueType?f.element.blur(function(e){this.value&&(this.value=WUX.formatCurr(WUX.WUtil.toNumber(this.value)))}):f.element.blur(function(e){this.value&&(this.value=WUX.formatCurr5(WUX.WUtil.toNumber(this.value)))})):"n"==f.valueType?(f.element.focus(function(e){this.value&&(this.value=WUX.formatNum(this.value),$(this).select())}),f.element.blur(function(e){this.value&&(this.value=WUX.formatNum(this.value))})):"i"==f.valueType?(f.element.focus(function(e){this.value&&(this.value=WUX.WUtil.toInt(this.value),$(this).select())}),f.element.blur(function(e){this.value&&(this.value=WUX.WUtil.toInt(this.value))})):f.element.focus(function(e){$(this).select()})),null==f.visible||f.visible||(f.element.hide(),f.label&&$('label[for="'+f.id+'"]').hide()),f.onmount&&f.onmount(f),f.onfocus&&f.element.focus(f.onfocus),f.onblur&&f.element.focus(f.onblur))}}}for(var _b=0,_c=this.hiddens;_b<_c.length;_b++)null==(f=_c[_b]).value&&(f.value=""),this.root.append('<input type="hidden" name="'+f.id+'" id="'+f.id+'" value="'+f.value+'">');if(this.footer&&0<this.footer.length){var fs=WUX.style(this.footerStyle),c0=(this.footerClass||(this.footerClass="col-md-12"),fs=fs?' style="'+fs+'"':' style="text-align:right;"',this.footerSep&&("string"==typeof this.footerSep?"<"==(c0=this.footerSep.charAt(0))?this.root.append(this.footerSep):WUX.WUtil.isNumeric(c0)&&this.root.append('<div style="height:'+this.footerSep+'px;"></div>'):this.root.append('<div style="height:'+this.footerSep+'px;"></div>')),$('<div class="row"></div>')),$fc=(this.root.append(c0),$('<div class="'+this.footerClass+'"'+fs+"></div>"));c0.append($fc);for(var _d=0,_e=this.footer;_d<_e.length;_d++){var fco=_e[_d];"string"==typeof fco&&0<fco.length?$fc.append($(fco)):fco instanceof WUX.WComponent?fco.mount($fc):$fc.append(fco)}}for(var this_2=this,_f=0,_g=this.dpids;_f<_g.length;_f++)!function(fid){var minDate=WUX.WUtil.getDate(this_2.minValues,fid);$("#"+fid).datepicker({language:WUX.global.locale,todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,minDate:minDate}).on("changeDate",function(e){if(_this.handlers._changedate)for(var _i=0,_a=_this.handlers._changedate;_i<_a.length;_i++)(0,_a[_i])(e);var dv,mv,md=WUX.WUtil.getDate(_this.minValues,fid),xd=WUX.WUtil.getDate(_this.maxValues,fid);!md&&!xd||!(dv=WUX.WUtil.getDate(e,"date"))||(dv=WUX.WUtil.toInt(dv))<19000101||(19000101<=(mv=WUX.WUtil.toInt(md))&&dv<mv&&(WUX.showWarning(WUX.RES.ERR_DATE),$(e.target).datepicker("setDate",md)),19000101<=(mv=WUX.WUtil.toInt(xd))&&mv<dv&&(WUX.showWarning(WUX.RES.ERR_DATE),$(e.target).datepicker("setDate",xd)))})}(_g[_f]);"object"==typeof this.state&&this.updateView(),this.root.find("input").keypress(function(e){if(13==e.which){for(var e=$(e.target).attr("id"),f=_this.next(e);f&&!_this.isFocusable(f);)f=_this.next(f.id);f&&_this.nextOnEnter?(f.component?f.component.focus():f.element&&("DIV"==f.element.prop("tagName")?f.element.find("input"):f.element).focus(),_this.stateChangeOnBlur||(_this.lastChanged=_this.ripId(e),_this.trigger("statechange"))):(_this.lastChanged=_this.ripId(e),_this.trigger("statechange")),_this.trigger("_enter",_this.ripId(e)),f||_this.trigger("_end",_this.ripId(e))}}),this.stateChangeOnBlur&&this.root.find("input").blur(function(e){_this.lastChanged=_this.ripId($(e.target).attr("id")),_this.trigger("statechange")}),this.root.on("change","select",function(e){var ts=(new Date).getTime();_this.lastTs&&ts-_this.lastTs<200||(_this.lastTs=ts,_this.lastChanged=_this.ripId($(e.target).attr("id")),_this.trigger("statechange"))})},WFormPanel.prototype.isFocusable=function(f){return!!f&&(!f.readonly&&!(null!=f.enabled&&!f.enabled))},WFormPanel.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.mounted&&(!nextState||$.isEmptyObject(nextState)?this.clear():this.updateView())},WFormPanel.prototype.isBlank=function(fid){if(fid)return 0!==(v=this.getValue(fid))&&(!v||!(""+v).trim());for(var i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var v,f=row[j];if(0==(v=this.getValue(f)))return!1;if(v)return!1;if((""+v).trim())return!1}return!0},WFormPanel.prototype.isZero=function(fid){fid=this.getValue(fid);return!fid||("0"==fid||!(""+fid).trim())},WFormPanel.prototype.match=function(fid,val){fid=this.getValue(fid);return WUX.WUtil.toString(fid)==WUX.WUtil.toString(val)},WFormPanel.prototype.transferTo=function(dest,force,callback){if(dest instanceof WUX.WFormPanel){dest.clear();for(var res=_super.prototype.transferTo.call(this,dest,force),i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var d,f=row[j];f.component&&((d=dest.getField(this.ripId(f.id)))&&d.component&&(res=res&&f.component.transferTo(d.component)))}callback&&callback()}else res=_super.prototype.transferTo.call(this,dest,force,callback);return res},WFormPanel.prototype.clear=function(){this.debug&&console.log("WUX.WFormPanel.clear");for(var fid,i=0;i<this.components.length;i++)this.components[i].id&&this.components[i].setState(null);for(fid in this.internals)this.internals.hasOwnProperty(fid)&&(this.internals[fid]=null);if(!this.root)return this;var f=this.root[0];if(!f||!f.elements)return this;for(var i_2=0;i_2<f.elements.length;i_2++){var e=f.elements[i_2];switch(e.type){case"checkbox":case"radio":e.checked=!1;break;case"select-one":case"select-multiple":e.selectedIndex=-1;break;default:e.value=""}}if(this.dpids)for(var _i=0,_a=this.dpids;_i<_a.length;_i++){var d=_a[_i];$("#"+d).datepicker("setDate",null)}return this},WFormPanel.prototype.select=function(fieldId,i){if(!fieldId)return this;var f=this.getField(fieldId);if(!f||!f.component)return this;var s=f.component.select;return"function"==typeof s?s.bind(f.component)(i):console.error("WFormPanel.select("+fieldId+","+i+") not applicable."),this},WFormPanel.prototype.setValue=function(fid,v,updState){if(void 0===updState&&(updState=!0),this.debug&&console.log("WUX.WFormPanel.setValue("+fid+","+v+","+updState+")"),!fid)return this;var sid=this.subId(fid);if(updState&&(this.state||(this.state={}),this.state[fid]=v),void 0!==this.internals[fid])return this.internals[fid]=v=void 0===v?null:v,this;for(var _i=0,_a=this.components;_i<_a.length;_i++){var c=_a[_i];if(c.id==sid)return c.setState(v),this}if(!this.root||!this.root.length)return this;if("number"==typeof v&&(v=WUX.formatNum(v)),!(this.dpids&&0<=this.dpids.indexOf(sid))){var $c=this.root.find("[name="+sid+"]");if(!($c=$c.length?$c:$("#"+sid)).length)return this;switch(null==v&&(v=""),$c.attr("type")){case"checkbox":case"radio":$c.prop("checked",v);break;default:v instanceof Date?$c.val(WUX.formatDate(v)):Array.isArray(v)?$c.val(v):$c.val(WUX.den(v.toString()))}return this}$("#"+sid).datepicker("setDate",WUX.WUtil.toDate(v))},WFormPanel.prototype.getValue=function(fid){if(fid){for(var sid,fid="string"==typeof fid?(sid=this.subId(fid),fid):(sid=fid.id,fid.id),_i=0,_a=this.components;_i<_a.length;_i++){var c=_a[_i];if(c.id==sid)return c.getState()}if(void 0!==this.internals[fid])return this.internals[fid];if(this.root&&this.root.length){fid=this.root.find("[name="+sid+"]");if((fid=fid.length?fid:$("#"+sid)).length){var e=fid.get(0);if(e)switch(e.type){case"checkbox":return e.checked;case"select-multiple":for(var a=[],j=0;j<e.length;j++)a.push(e.options[j].value);return a}return fid.val()}}}},WFormPanel.prototype.getValues=function(formatted){if(!this.root||!this.root.length)return{};var fid,v,r={};for(fid in this.internals)this.internals.hasOwnProperty(fid)&&(null!=(v=this.internals[fid])&&(r[fid]=v));var f=this.root[0];if(!f||!f.elements)return r;for(var i=0;i<f.elements.length;i++){var e=f.elements[i];if(e.name&&e.value){var k=e.name;switch(e.type){case"checkbox":r[this.ripId(k)]=e.checked;break;case"radio":e.checked&&(r[this.ripId(k)]=e.value);break;case"select-one":r[this.ripId(k)]=e.options[e.selectedIndex].value;break;case"select-multiple":for(var a=[],j=0;j<e.length;j++)e.options[j].selected&&a.push(e.options[j].value);r[this.ripId(k)]=a;break;case"text":case"textarea":r[this.ripId(k)]=WUX.norm(e.value);break;default:r[this.ripId(k)]=e.value}}}for(var _i=0,_a=this.components;_i<_a.length;_i++){var cv,c=_a[_i];!c.id||(cv=null)!=(cv=formatted?WUX.format(c):c.getState())&&(r[this.ripId(c.id)]=cv)}return r},WFormPanel.prototype.updateView=function(){if(this.debug&&console.log("WUX.WFormPanel.updateView()"),this.state)for(var id in this.state)this.setValue(id,this.state[id],!1);else this.clear()},WFormPanel.prototype.validate=function(){for(var values=this.getValues(),i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j],k=f.id,id=this.ripId(k);if(f.required&&null==values[id])throw new Error(f.label+": obbligatorio");if(f.size&&null!=values[id]&&values[id].length>f.size)throw new Error(f.label+": supera "+f.size+" caratteri");if(f.type&&null!=values[id]){var msg=null;switch(f.type==WUX.WInputType.Date&&(values[id]=WUX.WUtil.toDate(values[id])),f.type){case WUX.WInputType.Number:new RegExp("^\\d+\\.\\d{1,2}$|^\\d*$").test(values[id])||(msg=f.label+": "+values[id]+" non numerico");break;case WUX.WInputType.Integer:new RegExp("^\\d*$").test(values[id])||(msg=f.label+": "+values[id]+" non intero");break;case WUX.WInputType.Email:new RegExp(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/).test(values[id])||(msg=f.label+": "+values[id]+" email non valida")}if(msg)throw new Error(msg)}}return values},WFormPanel}(WUX.WComponent)),WCardLayout=(WUX.WFormPanel=WCardLayout,function(_super){function WWindow(id,name,position,attributes,props){var _this=_super.call(this,id||"*",name=void 0===name?"WWindow":name,props,"","",attributes)||this;return _this.position=position,_this.position||(_this.position="bottom"),_this.headerStyle=WWindow.DEF_HEADER_STYLE,_this.id&&"*"!=_this.id&&$("#"+_this.id).length&&$("#"+_this.id).remove(),WuxDOM.onRender(function(e){_this.mounted||_this.mount(e.element)}),_this}return __extends(WWindow,_super),WWindow.prototype.onShow=function(handler){this.handlers._onshow||(this.handlers._onshow=[]),this.handlers._onshow.push(handler)},WWindow.prototype.onHide=function(handler){this.handlers._onhide||(this.handlers._onhide=[]),this.handlers._onhide.push(handler)},WWindow.prototype.onClose=function(handler){this.handlers._onclose||(this.handlers._onclose=[]),this.handlers._onclose.push(handler)},Object.defineProperty(WWindow.prototype,"header",{get:function(){var _this=this;return this.cntHeader||(this.cntHeader=new WContainer("","modal-header",this.headerStyle),this.btnCloseHeader=new WButton(this.subId("bhc"),'<span aria-hidden="true" tabIndex="-1">&times;</span><span class="sr-only">Close</span>',void 0,"close",{op:.6}),this.btnCloseHeader.on("click",function(e){_this.close()}),this.cntHeader.add(this.btnCloseHeader),this.cntHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(WWindow.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new WContainer("",WUX.cls(this._classStyle)),this.cntBody)},enumerable:!1,configurable:!0}),Object.defineProperty(WWindow.prototype,"container",{get:function(){if(this.cntRoot)return this.cntRoot;var crs="",cra={};return this.width&&(cra.w=this.width),this.height&&(cra.h=this.height),this.background&&(cra.bg=this.background),this.color&&(cra.c=this.color),crs="top"==this.position?this.gap?(cra.ml=WUX.WUtil.getNumber(WUX.global.window_top,"ml")+this.gap,WUX.css(WUX.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",t:this.gap},this._style,cra)):WUX.css(WUX.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,cra):this.gap?(cra.ml=WUX.WUtil.getNumber(WUX.global.window_bottom,"ml")+this.gap,WUX.css(WUX.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",bt:this.gap},this._style,cra)):WUX.css(WUX.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,cra),this.cntRoot=new WContainer(this.id,this._classStyle,crs,this._attributes),this.cntRoot},enumerable:!1,configurable:!0}),Object.defineProperty(WWindow.prototype,"title",{get:function(){return this._title},set:function(s){this._title&&this.cntHeader?(this._title=s,this.cntHeader.getRoot().children(this.tagTitle+":first").text(s)):(this._title=s,this.header.add(this.buildTitle(s)))},enumerable:!1,configurable:!0}),WWindow.prototype.show=function(parent){if(this.beforeShow()&&(this.parent=parent,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&(this.isShown=!0,this.isClosed=!1,this.root.show()),this.handlers._onshow))for(var _i=0,_a=this.handlers._onshow;_i<_a.length;_i++)(0,_a[_i])(this.createEvent("_onshow"))},WWindow.prototype.hide=function(){if(this.isShown=!1,this.root&&this.root.length&&this.root.hide(),this.handlers._onhide)for(var _i=0,_a=this.handlers._onhide;_i<_a.length;_i++)(0,_a[_i])(this.createEvent("_onhide"))},WWindow.prototype.close=function(){if(this.isClosed=!0,this.handlers._onclose)for(var _i=0,_a=this.handlers._onclose;_i<_a.length;_i++)(0,_a[_i])(this.createEvent("_onclose"));this.hide()},WWindow.prototype.scroll=function(c,hmin,over){if(void 0===hmin&&(hmin=0),void 0===over&&(over=4),!c||!this.root)return 0;c=c instanceof WUX.WComponent?c.getRoot():c;if("top"==this.position){var st=$(document).scrollTop(),rt=(et=c.offset().top)-st-2,oh=this.root.height();if(rt<(oh=hmin&&oh<hmin?hmin:oh))return st<(ds=rt-oh)?$(document).scrollTop(0):$(document).scrollTop(st-ds),ds}else{var ds,st=$(document).scrollTop(),rt=((et=c.offset().top)||(rt=c.position())&&(et=rt.top),c.height()),c=et+(rt=rt||18)-st+2,et=$(window).height(),oh=this.root.height(),rt=et-(oh=hmin&&oh<hmin?hmin:oh);if(rt<c)return ds=c-rt+over,$(document).scrollTop(st+ds),ds}return 0},WWindow.prototype.scrollY=function(y,hmin,over){if(void 0===hmin&&(hmin=0),void 0===over&&(over=4),"top"==this.position){var st=$(document).scrollTop(),rt=y-2,oh=this.root.height();if(rt<(oh=hmin&&oh<hmin?hmin:oh))return st<(ds=rt-oh)?$(document).scrollTop(0):$(document).scrollTop(st-ds),ds}else{var ds,st=$(document).scrollTop(),rt=y+over/2+2,y=$(window).height(),oh=this.root.height(),y=y-(oh=hmin&&oh<hmin?hmin:oh);if(y<rt)return ds=rt-y+over,$(document).scrollTop(st+ds),ds}return 0},WWindow.prototype.beforeShow=function(){return!0},WWindow.prototype.onShown=function(){},WWindow.prototype.onHidden=function(){},WWindow.prototype.render=function(){return this.isShown=!1,this.isClosed=!1,this.cntHeader&&this.container.addContainer(this.cntHeader),this.cntBody&&this.container.addContainer(this.cntBody),this.cntRoot},WWindow.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntRoot&&this.cntRoot.unmount()},WWindow.prototype.buildTitle=function(title){if(null==title)return"";if(this.tagTitle||(this.tagTitle="h3"),this.titleStyle){var ts=WUX.style(this.titleStyle);if(ts)return"<"+this.tagTitle+' style="'+ts+'">'+WUX.WUtil.toText(title)+"</"+this.tagTitle+">"}return"<"+this.tagTitle+">"+WUX.WUtil.toText(title)+"</"+this.tagTitle+">"},WWindow.DEF_HEADER_STYLE={p:5,a:"center"},WWindow}(WUX.WComponent));WUX.WWindow=WCardLayout}(WUX=WUX||{}),function(WUX){var WDXTable=function(_super){function WDXTable(id,header,keys,classStyle,style,attributes,props){var _this=_super.call(this,id,"WDXTable",props,classStyle,style,attributes)||this;if(_this.header=header,_this.keys=[],keys)for(var _i=0,keys_2=keys;_i<keys_2.length;_i++){var key=keys_2[_i];_this.keys.push(WUX.WUtil.toString(key))}else if(_this.header)for(var i=0;i<_this.header.length;i++)_this.keys.push(i.toString());return _this.types=[],_this.widths=[],_this.templates=[],_this.selectionMode="single",_this.filter=!1,_this.keepSorting=!1,_this.scrolling="virtual",_this.pageSize=100,_this.paging=!1,_this.actions=[],_this.groups=[],_this.groupsCols=[],_this._editable=!1,_this.editables=[],_this.editmap={},_this.hiddenCols=[],_this}return __extends(WDXTable,_super),Object.defineProperty(WDXTable.prototype,"editable",{get:function(){return this._editable},set:function(b){this._editable=b,this.mounted&&this.root.dxDataGrid({editing:{mode:"cell",allowUpdating:!0}})},enumerable:!1,configurable:!0}),WDXTable.prototype.setCellEditable=function(row,col,editable){return this.editmap[row+"_"+col]=editable,this.mounted,this},WDXTable.prototype.addHidden=function(col){return this.hiddenCols.push(col),this},WDXTable.prototype.refresh=function(){return this.mounted&&this.root.dxDataGrid("instance").refresh(),this},WDXTable.prototype.refreshAndEdit=function(row,col,t){if(void 0===t&&(t=50),!this.mounted)return this;var i=this.root.dxDataGrid("instance");return null==row||null==col||""==col||-1==col?i.refresh():i.refresh().done([function(){setTimeout(function(){col&&i.editCell(row,col)},t)}]),this},WDXTable.prototype.repaintAndEdit=function(row,col,t){if(void 0===t&&(t=50),!this.mounted)return this;var i=this.root.dxDataGrid("instance");return null==row||null==col||""==col||-1==col?i.repaint():(i.repaintRows([row]),null!=col&&setTimeout(function(){col&&i.editCell(row,col)},t)),this},WDXTable.prototype.repaint=function(){var _this=this;return this.mounted&&(this.root.dxDataGrid("instance").repaint(),this.handlers._selectall&&"multiple"==this.selectionMode&&setTimeout(function(){var val_1,$cb=$(".dx-header-row .dx-checkbox").first();$cb&&$cb.length&&(_this.$cbSelAll&&_this.$cbSelAll.is($cb)||(_this.$cbSelAll=$cb,val_1=_this.$cbSelAll.dxCheckBox("instance").option("value"),_this.$cbSelAll.on("click",function(e){e.data=val_1;for(var _i=0,_a=_this.handlers._selectall;_i<_a.length;_i++)(0,_a[_i])(e)})))},500)),this},WDXTable.prototype.closeEditCell=function(){return this.mounted&&this.root.dxDataGrid("instance").closeEditCell(),this},WDXTable.prototype.repaintRows=function(idxs){return this.mounted&&this.root.dxDataGrid("instance").repaintRows(idxs),this},WDXTable.prototype.repaintRowByKey=function(key){if(!this.mounted||!key)return this;var i=this.root.dxDataGrid("instance"),key=i.getRowIndexByKey(key);return key<0||i.repaintRows([key]),this},WDXTable.prototype.addActions=function(key,field){return field&&(field.key=key=key||"",this.actions.push(field)),this},WDXTable.prototype.addGroupBefore=function(name,col){this.groups.push(name=name||"");for(var e=this.keys.length,g=(null!=col&&("number"!=typeof col?0<(name=this.keys.indexOf(col))&&(e=name):e=col),[]),i=0;i<e;i++)g.push(i);this.groupsCols.push(g)},WDXTable.prototype.addGroupAfter=function(name,col){this.groups.push(name=name||"");for(var k,name=0,e=this.keys.length,g=(null!=col&&("number"!=typeof col?0<=(k=this.keys.indexOf(col))&&(name=k+1):name=col+1),[]),i=name;i<e;i++)g.push(i);this.groupsCols.push(g)},WDXTable.prototype.addGroup=function(name,cols){if(cols&&cols.length)if(this.groups.push(name=name||""),"number"!=typeof cols[0]){for(var coln=[],i=0;i<cols.length;i++){var k=this.keys.indexOf(cols[i]);0<=k&&coln.push(k)}this.groupsCols.push(coln)}else this.groupsCols.push(cols)},WDXTable.prototype.onClickAction=function(h){this.handlers._clickaction||(this.handlers._clickaction=[]),this.handlers._clickaction.push(h)},WDXTable.prototype.onSelectionChanged=function(h){this.handlers._selectionchanged=[h],this.mounted&&this.root.dxDataGrid({onSelectionChanged:h})},WDXTable.prototype.onDoubleClick=function(h){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(h)},WDXTable.prototype.onSelectAll=function(h){this.handlers._selectall||(this.handlers._selectall=[]),this.handlers._selectall.push(h)},WDXTable.prototype.onDoneRefresh=function(h){this.handlers._donerefresh||(this.handlers._donerefresh=[]),this.handlers._donerefresh.push(h)},WDXTable.prototype.onRowPrepared=function(h){this.handlers._rowprepared=[h],this.mounted&&this.root.dxDataGrid({onRowPrepared:h})},WDXTable.prototype.onCellPrepared=function(h){this.handlers._cellprepared=[h],this.mounted&&this.root.dxDataGrid({onCellPrepared:h})},WDXTable.prototype.onContentReady=function(h){this.handlers._contentready=[h],this.mounted&&this.root.dxDataGrid({onContentReady:h})},WDXTable.prototype.onRowUpdated=function(h){this.handlers._rowupdated=[h],this.mounted&&this.root.dxDataGrid({onRowUpdated:h})},WDXTable.prototype.onEditorPreparing=function(h){this.handlers._editorpreparing=[h],this.mounted&&this.root.dxDataGrid({onEditorPreparing:h})},WDXTable.prototype.onEditorPrepared=function(h){this.handlers._editorprepared=[h],this.mounted&&this.root.dxDataGrid({onEditorPrepared:h})},WDXTable.prototype.onEditingStart=function(h){this.handlers._editingstart=[h],this.mounted&&this.root.dxDataGrid({onEditingStart:h})},WDXTable.prototype.onCellClick=function(h){this.handlers._cellclick=[h],this.mounted&&this.root.dxDataGrid({onCellClick:h})},WDXTable.prototype.onScroll=function(h){this.handlers._scroll=[h],this.mounted&&this.root.dxDataGrid("instance").getScrollable().on("scroll",h)},WDXTable.prototype.onKeyDown=function(h){this.handlers._keydown=[h],this.mounted&&this.root.dxDataGrid({onKeyDown:h})},WDXTable.prototype.onToolbarPreparing=function(h){this.handlers._toolbarpreparing=[h],this.mounted&&this.root.dxDataGrid({onToolbarPreparing:h})},WDXTable.prototype.scrollTo=function(location){this.mounted&&this.root.dxDataGrid("instance").getScrollable().scrollTo(location)},WDXTable.prototype.clearFilter=function(){this.mounted&&this.state&&this.root.dxDataGrid("instance").clearFilter()},WDXTable.prototype.off=function(events){if(_super.prototype.off.call(this,events),!events)return this;var gopt={};return 0<=events.indexOf("_selectionchanged")&&(gopt.onSelectionChanged=null),0<=events.indexOf("_rowprepared")&&(gopt.onRowPrepared=null),0<=events.indexOf("_cellprepared")&&(gopt.onCellPrepared=null),0<=events.indexOf("_contentready")&&(gopt.onContentReady=null),0<=events.indexOf("_rowupdated")&&(gopt.onRowUpdated=null),0<=events.indexOf("_editorprepared")&&(gopt.onEditorPrepared=null),0<=events.indexOf("_editorpreparing")&&(gopt.onEditorPreparing=null),0<=events.indexOf("_editingstart")&&(gopt.onEditingStart=null),0<=events.indexOf("_cellclick")&&(gopt.onCellClick=null),0<=events.indexOf("_keydown")&&(gopt.onKeyDown=null),0<=events.indexOf("_toolbarpreparing")&&(gopt.onToolbarPreparing=null),this.root.dxDataGrid(gopt),this},WDXTable.prototype.clearSelection=function(){return this.mounted&&this.state&&this.root.dxDataGrid("instance").clearSelection(),this},WDXTable.prototype.deselectAll=function(){return this.mounted&&this.root.dxDataGrid("instance").deselectAll(),this},WDXTable.prototype.select=function(idxs){return this.mounted&&this.root.dxDataGrid("instance").selectRowsByIndexes(idxs),this},WDXTable.prototype.selectRows=function(keys,preserve){return this.mounted&&this.root.dxDataGrid("instance").selectRows(keys,preserve),this},WDXTable.prototype.deselectRows=function(keys){return this.mounted&&this.root.dxDataGrid("instance").deselectRows(keys),this},WDXTable.prototype.selectAll=function(toggle){return this.mounted&&(toggle?(toggle=WUX.WUtil.size(this.getSelectedRows()),ssize=WUX.WUtil.size(this.state),toggle&&toggle==ssize?this.root.dxDataGrid("instance").clearSelection():this.root.dxDataGrid("instance").selectAll()):this.root.dxDataGrid("instance").selectAll()),this;var ssize},WDXTable.prototype.setSelectionMode=function(s){if(this.selectionMode=s,!this.mounted)return this;s={};return this.selectionFilter&&this.selectionFilter.length?s.selection={mode:this.selectionMode,deferred:!0}:s.selection={mode:this.selectionMode},this.root.dxDataGrid(s),this},WDXTable.prototype.setColVisible=function(col,vis){return this.root.dxDataGrid("columnOption",col,"visible",vis),this},WDXTable.prototype.edit=function(row,col,t){var _this=this;return void 0===t&&(t=200),this.mounted&&setTimeout(function(){_this.root.dxDataGrid("instance").editCell(row,col)},t),this},WDXTable.prototype.getFilter=function(key){if(!this.mounted)return"";for(var c=this.root.dxDataGrid("instance").getCombinedFilter(!0),s=WUX.WUtil.size(c),i=0;i<s;i++){var f=c[i];if(Array.isArray(f)){if(2<f.length&&key==f[0])return""+f[1]+f[2]}else if("string"==typeof f&&key==f&&2<s)return""+c[1]+c[2]}return""},WDXTable.prototype.getInstance=function(gopt){return this.mounted?(gopt&&this.root.dxDataGrid(gopt),this.root.dxDataGrid("instance")):null},WDXTable.prototype.getSelectedKeys=function(){return this.mounted?this.root.dxDataGrid("instance").getSelectedRowKeys():[]},WDXTable.prototype.getSelectedRows=function(){if(!this.mounted)return[];var i=this.root.dxDataGrid("instance"),keys=i.getSelectedRowKeys();if(!keys||!keys.length)return[];for(var rows=[],_i=0,keys_3=keys;_i<keys_3.length;_i++){var key=keys_3[_i],key=i.getRowIndexByKey(key);key<0||rows.push(key)}return rows},WDXTable.prototype.isSelected=function(data){return!!this.mounted&&this.root.dxDataGrid("instance").isRowSelected(data)},WDXTable.prototype.getSelectedRowsData=function(){return this.mounted?this.root.dxDataGrid("instance").getSelectedRowsData():[]},WDXTable.prototype.getFilteredRowsData=function(){if(!this.root)return this.state;var ds=this.root.dxDataGrid("instance").getDataSource();if(!ds)return this.state;ds=ds.items();return ds&&ds.length?ds:this.state},WDXTable.prototype.cellValue=function(rowIndex,dataField,value){return this.root?(i=this.root.dxDataGrid("instance"),void 0===value?i.cellValue(rowIndex,dataField):void i.cellValue(rowIndex,dataField,value)):null;var i},WDXTable.prototype.saveEditData=function(r){var i=this.root.dxDataGrid("instance");return null!=r?i.saveEditData().done([function(){setTimeout(function(){i.repaintRows([r])},0)}]):i.saveEditData(),this},WDXTable.prototype.count=function(){return this.state?this.state.length:0},WDXTable.prototype.beforeInit=function(gopt){},WDXTable.prototype.componentDidMount=function(){var aw,_this=this,_self=(this.header||(this.header=[]),this),gopt="object"==typeof this.props?this.props:{showColumnLines:!0,showRowLines:!0,showBorders:!0,allowColumnResizing:!0,columnAutoWidth:!0,rowAlternationEnabled:!1},cols=(this._editable&&(gopt.editing={mode:"cell",allowUpdating:!0}),this.hideHeader&&(gopt.showColumnHeaders=!1),this.editmap={},[]);if(this.groups&&this.groups.length)for(var g=0;g<this.groups.length;g++){for(var gname=this.groups[g],gcols=this.groupsCols[g],col={caption:gname},subCols=[],s=0;s<gcols.length;s++){var i=gcols[s],scol=void 0;if(this.keys&&this.keys.length){var k=this.keys[i];if(0<=this.hiddenCols.indexOf(k))continue;scol={caption:this.header[i],dataField:k}}else{k=i.toString();if(0<=this.hiddenCols.indexOf(k))continue;scol={caption:this.header[i],dataField:i.toString()}}switch((w=this.widths&&this.widths.length>i?this.widths[i]:0)&&(w<0?scol.allowSorting=!1:(scol.width=this.widthsPerc?w+"%":w,0==i&&(scol.fixed=!0))),(x=this.filterOps&&this.filterOps.length>i?this.filterOps[i]:void 0)&&("-"==x?scol.allowFiltering=!1:scol.selectedFilterOperation=x),(f=this.templates&&this.templates.length>i?this.templates[i]:void 0)&&(scol.cellTemplate=f),scol.allowEditing=!!(this.editables&&this.editables.length>i)&&this.editables[i],WUX.WUtil.getItem(this.types,i)){case"s":scol.dataType="string";break;case"w":scol.dataType="string",scol.alignment="center";break;case"c":scol.dataType="number",scol.format={type:"currency",precision:2};break;case"c5":scol.dataType="number",scol.format={type:"currency",precision:5};break;case"i":scol.dataType="number",scol.format={precision:0};break;case"n":scol.dataType="number",scol.format={precision:2};break;case"d":scol.dataType="date",scol.format="dd/MM/yyyy";break;case"t":scol.dataType="date",scol.format="dd/MM/yyyy HH:mm:ss";break;case"b":scol.dataType="boolean"}subCols.push(scol)}if("-"!=gname&&subCols.length)col.columns=subCols,cols.push(col);else for(var _i=0,subCols_1=subCols;_i<subCols_1.length;_i++){scol=subCols_1[_i];cols.push(scol)}}else for(i=0;i<this.header.length;i++){var w,x,f,col=void 0;if(this.keys&&this.keys.length){k=this.keys[i];if(0<=this.hiddenCols.indexOf(k))continue;col={caption:this.header[i],dataField:k}}else{k=i.toString();if(0<=this.hiddenCols.indexOf(k))continue;col={caption:this.header[i],dataField:k}}switch((w=this.widths&&this.widths.length>i?this.widths[i]:0)&&(w<0?col.allowSorting=!1:(col.width=this.widthsPerc?w+"%":w,0==i&&(col.fixed=!0))),(x=this.filterOps&&this.filterOps.length>i?this.filterOps[i]:void 0)&&("-"==x?col.allowFiltering=!1:col.selectedFilterOperation=x),(f=this.templates&&this.templates.length>i?this.templates[i]:void 0)&&(col.cellTemplate=f),col.allowEditing=!!(this.editables&&this.editables.length>i)&&this.editables[i],WUX.WUtil.getItem(this.types,i)){case"s":col.dataType="string";break;case"w":col.dataType="string",col.alignment="center";break;case"c":col.dataType="number",col.format={type:"currency",precision:2};break;case"c5":col.dataType="number",col.format={type:"currency",precision:5};break;case"i":col.dataType="number",col.format={precision:0};break;case"n":col.dataType="number",col.format={precision:2};break;case"d":col.dataType="date",col.format="dd/MM/yyyy";break;case"t":col.dataType="date",col.format="dd/MM/yyyy HH:mm:ss";break;case"b":col.dataType="boolean"}cols.push(col)}this.actions&&this.actions.length&&(this.actionsTitle||(this.actionsTitle=""),aw=this.actionWidth||"auto",cols.push({caption:this.actionsTitle,width:aw,alignment:"center",allowFiltering:!1,allowReordering:!1,allowResizing:!1,allowSorting:!1,allowEditing:!1,cellTemplate:function(container,options){_self.actionsStyle?WUX.setCss(container,_self.actionsStyle):container.addClass("actions");for(var i=0;i<_self.actions.length;i++){var s,cid,f=_self.actions[i];f.build?f.build(container,options.row.data):(cid=void 0,cid=(cid=f.key?WUX.WUtil.getValue(options.row.data,f.key):cid)||"_"+options.row.rowIndex,s=(s=WUX.style(f.labelCss))?' style="'+s+'"':"",cid=$('<a id="'+f.id+"-"+cid+'" class="'+f.classStyle+'"'+s+">"+WUX.buildIcon(f.icon,"","",0,WUX.cls(f.style),f.label)+"</a>"),container.append(cid),cid.on("click",function(e){if(_self.handlers._clickaction)for(var _i=0,_a=_self.handlers._clickaction;_i<_a.length;_i++)(0,_a[_i])(e)}))}}})),gopt.columns=cols,this.dataSource?gopt.dataSource=this.dataSource:gopt.dataSource=this.state,gopt.filterRow={visible:this.filter},gopt.paging={enabled:this.paging,pageSize:this.pageSize},this.paging?gopt.pager={showPageSizeSelector:!1,allowedPageSizes:[this.pageSize],showInfo:!0}:gopt.scrolling={mode:this.scrolling},gopt.onRowClick=function(e){var lastClick=e.component.lastClick,currClick=e.component.lastClick=new Date;if(lastClick&&currClick.getTime()-lastClick.getTime()<300&&_this.handlers._doubleclick)for(var _i=0,_a=_this.handlers._doubleclick;_i<_a.length;_i++)(0,_a[_i])({element:_this.root,data:e.data})},this.selectionMode&&"none"!=this.selectionMode&&(this.selectionFilter&&this.selectionFilter.length?gopt.selection={mode:this.selectionMode,deferred:!0}:gopt.selection={mode:this.selectionMode}),this.selectionFilter&&this.selectionFilter.length&&(gopt.selectionFilter=this.selectionFilter),this.exportFile&&(gopt.export={enabled:!0,fileName:this.exportFile}),this.handlers._selectionchanged&&this.handlers._selectionchanged.length&&(gopt.onSelectionChanged=this.handlers._selectionchanged[0]),this.handlers._rowprepared&&this.handlers._rowprepared.length&&(gopt.onRowPrepared=this.handlers._rowprepared[0]),this.handlers._cellprepared&&this.handlers._cellprepared.length&&(gopt.onCellPrepared=this.handlers._cellprepared[0]),this.handlers._contentready&&this.handlers._contentready.length&&(gopt.onContentReady=this.handlers._contentready[0]),this.handlers._rowupdated&&this.handlers._rowupdated.length&&(gopt.onRowUpdated=this.handlers._rowupdated[0]),this.handlers._cellclick&&this.handlers._cellclick.length&&(gopt.onCellClick=this.handlers._cellclick[0]),this.handlers._editorprepared&&this.handlers._editorprepared.length&&(gopt.onEditorPrepared=this.handlers._editorprepared[0]),this.handlers._editorpreparing&&this.handlers._editorpreparing.length&&(gopt.onEditorPreparing=this.handlers._editorpreparing[0]),this.handlers._editingstart&&this.handlers._editingstart.length&&(gopt.onEditingStart=this.handlers._editingstart[0]),this.handlers._keydown&&this.handlers._keydown.length&&(gopt.onKeyDown=this.handlers._keydown[0]),this.handlers._toolbarpreparing&&this.handlers._toolbarpreparing.length&&(gopt.onToolbarPreparing=this.handlers._toolbarpreparing[0]),this.beforeInit(gopt),this.root.dxDataGrid(gopt),this.handlers._scroll&&this.handlers._scroll.length&&this.root.dxDataGrid("instance").getScrollable().on("scroll",this.handlers._scroll[0])},WDXTable.prototype.componentWillUpdate=function(nextProps,nextState){var _this=this;nextState=nextState||[],this.editmap={},(nextState=this.storeKey?{dataSource:new DevExpress.data.DataSource(new DevExpress.data.ArrayStore({data:nextState,key:this.storeKey}))}:{dataSource:nextState}).paging={enabled:this.paging,pageSize:this.pageSize},this.paging&&(nextState.pager={showPageSizeSelector:!1,allowedPageSizes:[this.pageSize],showInfo:!0}),this.keepSorting||this.root.dxDataGrid("instance").clearSorting(),this.selectionFilter&&this.selectionFilter.length||this.root.dxDataGrid("instance").clearSelection(),this.root.dxDataGrid(nextState),this.root.dxDataGrid("instance").refresh().done(function(){if(_this.handlers._donerefresh)for(var _i=0,_a=_this.handlers._donerefresh;_i<_a.length;_i++)(0,_a[_i])(_this.createEvent("_donerefresh"));var $cb,val_2;_this.handlers._selectall&&"multiple"==_this.selectionMode&&($cb=$(".dx-header-row .dx-checkbox").first())&&$cb.length&&(_this.$cbSelAll&&_this.$cbSelAll.is($cb)||(_this.$cbSelAll=$cb,val_2=_this.$cbSelAll.dxCheckBox("instance").option("value"),_this.$cbSelAll.on("click",function(e){e.data=val_2;for(var _i=0,_a=_this.handlers._selectall;_i<_a.length;_i++)(0,_a[_i])(e)})))}),this.root.find(".dx-loadpanel-content").hide()},WDXTable}(WUX.WComponent),WDXTable=(WUX.WDXTable=WDXTable,function(_super){function WDXTreeList(id,header,keys,classStyle,style,attributes,props){var _this=_super.call(this,id,"WDXTreeList",props,classStyle,style,attributes)||this;if(_this.header=header,_this.keys=[],keys)for(var _i=0,keys_4=keys;_i<keys_4.length;_i++){var key=keys_4[_i];_this.keys.push(WUX.WUtil.toString(key))}else if(_this.header)for(var i=0;i<_this.header.length;i++)_this.keys.push(i.toString());return _this.types=[],_this.widths=[],_this.templates=[],_this.selectionMode="single",_this.filter=!1,_this.keepSorting=!1,_this.scrolling="virtual",_this.autoExpandAll=!0,_this.actions=[],_this.groups=[],_this.groupsCols=[],_this.actions_1=[],_this.actions_2=[],_this._editable=!1,_this.editables=[],_this.editmap={},_this.hiddenCols=[],_this}return __extends(WDXTreeList,_super),Object.defineProperty(WDXTreeList.prototype,"editable",{get:function(){return this._editable},set:function(b){this._editable=b,this.mounted&&this.root.dxTreeList({editing:{mode:"cell",allowUpdating:!0}})},enumerable:!1,configurable:!0}),WDXTreeList.prototype.setCellEditable=function(row,col,editable){return this.editmap[row+"_"+col]=editable,this.mounted,this},WDXTreeList.prototype.addHidden=function(col){return this.hiddenCols.push(col),this},WDXTreeList.prototype.refresh=function(){return this.mounted&&this.root.dxTreeList("instance").refresh(),this},WDXTreeList.prototype.refreshAndEdit=function(row,col,t){if(void 0===t&&(t=50),!this.mounted)return this;var i=this.root.dxTreeList("instance");return null==row||null==col||""==col||-1==col?i.refresh():i.refresh().done([function(){setTimeout(function(){col&&i.editCell(row,col)},t)}]),this},WDXTreeList.prototype.repaintAndEdit=function(row,col,t){if(void 0===t&&(t=50),!this.mounted)return this;var i=this.root.dxTreeList("instance");return null==row||null==col||""==col||-1==col?i.repaint():(i.repaintRows([row]),null!=col&&setTimeout(function(){i.editCell(row,col)},t)),this},WDXTreeList.prototype.closeEditCell=function(){return this.mounted&&this.root.dxTreeList("instance").closeEditCell(),this},WDXTreeList.prototype.repaintRows=function(idxs){return this.mounted&&this.root.dxTreeList("instance").repaintRows(idxs),this},WDXTreeList.prototype.addActions=function(key,field){return field&&(field.key=key=key||"",this.actions.push(field)),this},WDXTreeList.prototype.addActionsLevel1=function(key,field,keyLev1){return field&&(field.key=key=key||"",this.actions_1.push(field),this.keyLev1=keyLev1),this},WDXTreeList.prototype.addActionsLevel2=function(key,field,keyLev2){return field&&(field.key=key=key||"",this.actions_2.push(field),this.keyLev2=keyLev2),this},WDXTreeList.prototype.addGroupBefore=function(name,col){this.groups.push(name=name||"");for(var e=this.keys.length,g=(null!=col&&("number"!=typeof col?0<(name=this.keys.indexOf(col))&&(e=name):e=col),[]),i=0;i<e;i++)g.push(i);this.groupsCols.push(g)},WDXTreeList.prototype.addGroupAfter=function(name,col){this.groups.push(name=name||"");for(var k,name=0,e=this.keys.length,g=(null!=col&&("number"!=typeof col?0<=(k=this.keys.indexOf(col))&&(name=k+1):name=col+1),[]),i=name;i<e;i++)g.push(i);this.groupsCols.push(g)},WDXTreeList.prototype.addGroup=function(name,cols){if(cols&&cols.length)if(this.groups.push(name=name||""),"number"!=typeof cols[0]){for(var coln=[],i=0;i<cols.length;i++){var k=this.keys.indexOf(cols[i]);0<=k&&coln.push(k)}this.groupsCols.push(coln)}else this.groupsCols.push(cols)},WDXTreeList.prototype.onClickAction=function(h){this.handlers._clickaction||(this.handlers._clickaction=[]),this.handlers._clickaction.push(h)},WDXTreeList.prototype.onSelectionChanged=function(h){this.handlers._selectionchanged=[h],this.mounted&&this.root.dxTreeList({onSelectionChanged:h})},WDXTreeList.prototype.onDoubleClick=function(h){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(h)},WDXTreeList.prototype.onRowPrepared=function(h){this.handlers._rowprepared=[h],this.mounted&&this.root.dxTreeList({onRowPrepared:h})},WDXTreeList.prototype.onCellPrepared=function(h){this.handlers._cellprepared=[h],this.mounted&&this.root.dxTreeList({onCellPrepared:h})},WDXTreeList.prototype.onContentReady=function(h){this.handlers._contentready=[h],this.mounted&&this.root.dxTreeList({onContentReady:h})},WDXTreeList.prototype.onRowUpdated=function(h){this.handlers._rowupdated=[h],this.mounted&&this.root.dxTreeList({onRowUpdated:h})},WDXTreeList.prototype.onEditorPreparing=function(h){this.handlers._editorpreparing=[h],this.mounted&&this.root.dxTreeList({onEditorPreparing:h})},WDXTreeList.prototype.onEditorPrepared=function(h){this.handlers._editorprepared=[h],this.mounted&&this.root.dxTreeList({onEditorPrepared:h})},WDXTreeList.prototype.onEditingStart=function(h){this.handlers._editingstart=[h],this.mounted&&this.root.dxTreeList({onEditingStart:h})},WDXTreeList.prototype.onCellClick=function(h){this.handlers._cellclick=[h],this.mounted&&this.root.dxTreeList({onCellClick:h})},WDXTreeList.prototype.onScroll=function(h){var dxtl;this.handlers._scroll=[h],this.mounted&&(dxtl=this.root.dxTreeList("instance"))&&dxtl.getScrollable().on("scroll",h)},WDXTreeList.prototype.onKeyDown=function(h){this.handlers._keydown=[h],this.mounted&&this.root.dxTreeList({onKeyDown:h})},WDXTreeList.prototype.onToolbarPreparing=function(h){this.handlers._toolbarpreparing=[h],this.mounted&&this.root.dxTreeList({onToolbarPreparing:h})},WDXTreeList.prototype.scrollTo=function(location){this.mounted&&this.root.dxTreeList("instance").getScrollable().scrollTo(location)},WDXTreeList.prototype.clearFilter=function(){this.mounted&&this.state&&this.root.dxTreeList("instance").clearFilter()},WDXTreeList.prototype.off=function(events){if(_super.prototype.off.call(this,events),!events)return this;var gopt={};return 0<=events.indexOf("_selectionchanged")&&(gopt.onSelectionChanged=null),0<=events.indexOf("_rowprepared")&&(gopt.onRowPrepared=null),0<=events.indexOf("_cellprepared")&&(gopt.onCellPrepared=null),0<=events.indexOf("_contentready")&&(gopt.onContentReady=null),0<=events.indexOf("_rowupdated")&&(gopt.onRowUpdated=null),0<=events.indexOf("_editorprepared")&&(gopt.onEditorPrepared=null),0<=events.indexOf("_editorpreparing")&&(gopt.onEditorPreparing=null),0<=events.indexOf("_editingstart")&&(gopt.onEditingStart=null),0<=events.indexOf("_cellclick")&&(gopt.onCellClick=null),0<=events.indexOf("_keydown")&&(gopt.onKeyDown=null),0<=events.indexOf("_toolbarpreparing")&&(gopt.onToolbarPreparing=null),this.root.dxTreeList(gopt),this},WDXTreeList.prototype.clearSelection=function(){return this.mounted&&this.state&&this.root.dxTreeList("instance").clearSelection(),this},WDXTreeList.prototype.deselectAll=function(){return this.mounted&&this.root.dxTreeList("instance").deselectAll(),this},WDXTreeList.prototype.select=function(idxs){return this.mounted&&this.root.dxTreeList("instance").selectRowsByIndexes(idxs),this},WDXTreeList.prototype.selectAll=function(toggle){return this.mounted&&(toggle?(toggle=WUX.WUtil.size(this.getSelectedRows()),ssize=WUX.WUtil.size(this.state),toggle&&toggle==ssize?this.root.dxTreeList("instance").clearSelection():this.root.dxTreeList("instance").selectAll()):this.root.dxTreeList("instance").selectAll()),this;var ssize},WDXTreeList.prototype.setSelectionMode=function(s){if(this.selectionMode=s,!this.mounted)return this;s={};return s.selection={mode:this.selectionMode},this.root.dxTreeList(s),this},WDXTreeList.prototype.setColVisible=function(col,vis){return this.root.dxTreeList("columnOption",col,"visible",vis),this},WDXTreeList.prototype.edit=function(row,col,t){var _this=this;return void 0===t&&(t=200),this.mounted&&setTimeout(function(){_this.root.dxTreeList("instance").editCell(row,col)},t),this},WDXTreeList.prototype.getFilter=function(key){if(!this.mounted)return"";for(var c=this.root.dxTreeList("instance").getCombinedFilter(!0),s=WUX.WUtil.size(c),i=0;i<s;i++){var f=c[i];if(Array.isArray(f)){if(2<f.length&&key==f[0])return""+f[1]+f[2]}else if("string"==typeof f&&key==f&&2<s)return""+c[1]+c[2]}return""},WDXTreeList.prototype.getInstance=function(gopt){return this.mounted?(gopt&&this.root.dxTreeList(gopt),this.root.dxTreeList("instance")):null},WDXTreeList.prototype.getSelectedRows=function(){if(!this.mounted)return[];var i=this.root.dxTreeList("instance"),keys=i.getSelectedRowKeys();if(!keys||!keys.length)return[];for(var rows=[],_i=0,keys_5=keys;_i<keys_5.length;_i++){var key=keys_5[_i],key=i.getRowIndexByKey(key);key<0||rows.push(key)}return rows},WDXTreeList.prototype.getSelectedRowsData=function(){return this.mounted?this.root.dxTreeList("instance").getSelectedRowsData():[]},WDXTreeList.prototype.getFilteredRowsData=function(){if(!this.root)return this.state;var ds=this.root.dxTreeList("instance").getDataSource();if(!ds){for(var rs=[],_i=0,_a=this.state;_i<_a.length;_i++){var e=_a[_i];rs.push({data:e})}return rs}ds=ds.items();if(ds&&ds.length)return ds;for(var rs=[],_b=0,_c=this.state;_b<_c.length;_b++){e=_c[_b];rs.push({data:e})}return rs},WDXTreeList.prototype.cellValue=function(rowIndex,dataField,value){return this.root?(i=this.root.dxTreeList("instance"),void 0===value?i.cellValue(rowIndex,dataField):void i.cellValue(rowIndex,dataField,value)):null;var i},WDXTreeList.prototype.saveEditData=function(r){var i=this.root.dxTreeList("instance");return null!=r?i.saveEditData().done([function(){setTimeout(function(){i.repaintRows([r])},0)}]):i.saveEditData(),this},WDXTreeList.prototype.count=function(){return this.state?this.state.length:0},WDXTreeList.prototype.beforeInit=function(gopt){},WDXTreeList.prototype.componentDidMount=function(){var aw,_this=this,_self=(this.header||(this.header=[]),this),gopt="object"==typeof this.props?this.props:{showColumnLines:!0,showRowLines:!0,showBorders:!0,allowColumnResizing:!0,columnAutoWidth:!0,rowAlternationEnabled:!1},cols=(this.hideHeader&&(gopt.showColumnHeaders=!1),gopt.keyExpr=this.keyExpr,gopt.parentIdExpr=this.parentIdExpr,gopt.autoExpandAll=this.autoExpandAll,this._editable&&(gopt.editing={mode:"cell",allowUpdating:!0}),this.editmap={},[]);if(this.groups&&this.groups.length)for(var g=0;g<this.groups.length;g++){for(var gname=this.groups[g],gcols=this.groupsCols[g],col={caption:gname},subCols=[],s=0;s<gcols.length;s++){var i=gcols[s],scol=void 0;if(this.keys&&this.keys.length){var k=this.keys[i];if(0<=this.hiddenCols.indexOf(k))continue;scol={caption:this.header[i],dataField:k}}else{k=i.toString();if(0<=this.hiddenCols.indexOf(k))continue;scol={caption:this.header[i],dataField:k}}switch((w=this.widths&&this.widths.length>i?this.widths[i]:0)&&(w<0?scol.allowSorting=!1:(scol.width=this.widthsPerc?w+"%":w,0==i&&(scol.fixed=!0))),(x=this.filterOps&&this.filterOps.length>i?this.filterOps[i]:void 0)&&("-"==x?scol.allowFiltering=!1:scol.selectedFilterOperation=x),(f=this.templates&&this.templates.length>i?this.templates[i]:void 0)&&(scol.cellTemplate=f),scol.allowEditing=!!(this.editables&&this.editables.length>i)&&this.editables[i],WUX.WUtil.getItem(this.types,i)){case"s":scol.dataType="string";break;case"w":scol.dataType="string",scol.alignment="center";break;case"c":scol.dataType="number",scol.format={type:"currency",precision:2};break;case"c5":scol.dataType="number",scol.format={type:"currency",precision:5};break;case"i":scol.dataType="number",scol.format={precision:0};break;case"n":scol.dataType="number",scol.format={precision:2};break;case"d":scol.dataType="date",scol.format="dd/MM/yyyy";break;case"t":scol.dataType="date",scol.format="dd/MM/yyyy HH:mm:ss";break;case"b":scol.dataType="boolean"}subCols.push(scol)}if("-"!=gname&&subCols.length)col.columns=subCols,cols.push(col);else for(var _i=0,subCols_2=subCols;_i<subCols_2.length;_i++){scol=subCols_2[_i];cols.push(scol)}}else for(i=0;i<this.header.length;i++){var w,x,f,col=void 0;if(this.keys&&this.keys.length){k=this.keys[i];if(0<=this.hiddenCols.indexOf(k))continue;col={caption:this.header[i],dataField:this.keys[i]}}else{k=i.toString();if(0<=this.hiddenCols.indexOf(k))continue;col={caption:this.header[i],dataField:i.toString()}}switch((w=this.widths&&this.widths.length>i?this.widths[i]:0)&&(w<0?col.allowSorting=!1:(col.width=this.widthsPerc?w+"%":w,0==i&&(col.fixed=!0))),(x=this.filterOps&&this.filterOps.length>i?this.filterOps[i]:void 0)&&("-"==x?col.allowFiltering=!1:col.selectedFilterOperation=x),(f=this.templates&&this.templates.length>i?this.templates[i]:void 0)&&(col.cellTemplate=f),col.allowEditing=!!(this.editables&&this.editables.length>i)&&this.editables[i],WUX.WUtil.getItem(this.types,i)){case"s":col.dataType="string";break;case"w":col.dataType="string",col.alignment="center";break;case"c":col.dataType="number",col.format={type:"currency",precision:2};break;case"c5":col.dataType="number",col.format={type:"currency",precision:5};break;case"i":col.dataType="number",col.format={precision:0};break;case"n":col.dataType="number",col.format={precision:2};break;case"d":col.dataType="date",col.format="dd/MM/yyyy";break;case"t":col.dataType="date",col.format="dd/MM/yyyy HH:mm:ss";break;case"b":col.dataType="boolean"}cols.push(col)}this.actions&&this.actions.length&&(this.actionsTitle||(this.actionsTitle=""),aw=this.actionWidth||"auto",cols.push({caption:this.actionsTitle,width:aw,alignment:"center",allowFiltering:!1,allowReordering:!1,allowResizing:!1,allowSorting:!1,allowEditing:!1,cellTemplate:function(container,options){_self.actionsStyle?WUX.setCss(container,_self.actionsStyle):container.addClass("actions");var actions=_self.actions,lev=options.row.level;_self.keyLev1&&options.data&&options.data[_self.keyLev1]&&(lev=1),1==(lev=_self.keyLev2&&options.data&&options.data[_self.keyLev2]?2:lev)?_self.actions_1&&(actions=_self.actions_1):2==lev&&_self.actions_2&&(actions=_self.actions_2);for(var i=0;i<actions.length;i++){var s,cid,f=actions[i];f.build?f.build(container,options.data):(cid=void 0,cid=(cid=f.key?WUX.WUtil.getValue(options.row.key,f.key):cid)||"_"+options.row.rowIndex,s=(s=WUX.style(f.labelCss))?' style="'+s+'"':"",cid=$('<a id="'+f.id+"-"+cid+'" class="'+f.classStyle+'"'+s+">"+WUX.buildIcon(f.icon,"","",0,WUX.cls(f.style),f.label)+"</a>"),container.append(cid),cid.on("click",function(e){if(_self.handlers._clickaction)for(var _i=0,_a=_self.handlers._clickaction;_i<_a.length;_i++)(0,_a[_i])(e)}))}}})),gopt.columns=cols,this.dataSource?gopt.dataSource=this.dataSource:gopt.dataSource=this.state,gopt.scrolling={mode:this.scrolling},gopt.filterRow={visible:this.filter},gopt.onRowClick=function(e){var lastClick=e.component.lastClick,currClick=e.component.lastClick=new Date;if(lastClick&&currClick.getTime()-lastClick.getTime()<300&&_this.handlers._doubleclick)for(var _i=0,_a=_this.handlers._doubleclick;_i<_a.length;_i++)(0,_a[_i])({element:_this.root,data:e.data})},this.selectionMode&&"none"!=this.selectionMode&&(gopt.selection={mode:this.selectionMode}),this.handlers._selectionchanged&&this.handlers._selectionchanged.length&&(gopt.onSelectionChanged=this.handlers._selectionchanged[0]),this.handlers._rowprepared&&this.handlers._rowprepared.length&&(gopt.onRowPrepared=this.handlers._rowprepared[0]),this.handlers._cellprepared&&this.handlers._cellprepared.length&&(gopt.onCellPrepared=this.handlers._cellprepared[0]),this.handlers._contentready&&this.handlers._contentready.length&&(gopt.onContentReady=this.handlers._contentready[0]),this.handlers._rowupdated&&this.handlers._rowupdated.length&&(gopt.onRowUpdated=this.handlers._rowupdated[0]),this.handlers._cellclick&&this.handlers._cellclick.length&&(gopt.onCellClick=this.handlers._cellclick[0]),this.handlers._editorprepared&&this.handlers._editorprepared.length&&(gopt.onEditorPrepared=this.handlers._editorprepared[0]),this.handlers._editorpreparing&&this.handlers._editorpreparing.length&&(gopt.onEditorPreparing=this.handlers._editorpreparing[0]),this.handlers._editingstart&&this.handlers._editingstart.length&&(gopt.onEditingStart=this.handlers._editingstart[0]),this.handlers._keydown&&this.handlers._keydown.length&&(gopt.onKeyDown=this.handlers._keydown[0]),this.handlers._toolbarpreparing&&this.handlers._toolbarpreparing.length&&(gopt.onToolbarPreparing=this.handlers._toolbarpreparing[0]),this.beforeInit(gopt),this.root.dxTreeList(gopt),this.handlers._scroll&&this.handlers._scroll.length&&this.root.dxTreeList("instance").getScrollable().on("scroll",this.handlers._scroll[0])},WDXTreeList.prototype.componentWillUpdate=function(nextProps,nextState){nextState=nextState||[],this.editmap={};nextState={dataSource:nextState,autoExpandAll:this.autoExpandAll};this.keepSorting||this.root.dxTreeList("instance").clearSorting(),this.root.dxTreeList("instance").clearSelection(),this.root.dxTreeList(nextState),this.root.find(".dx-loadpanel-content").hide()},WDXTreeList}(WUX.WComponent)),WDXTable=(WUX.WDXTreeList=WDXTable,function(_super){function WDXFileUploader(id,classStyle,style,attributes,uploadURL){return _super.call(this,id,"WDXFileUploader",uploadURL,classStyle,style,attributes)||this}return __extends(WDXFileUploader,_super),WDXFileUploader.prototype.onUploaded=function(handler){this.handlers._onuploaded||(this.handlers._onuploaded=[]),this.handlers._onuploaded.push(handler)},WDXFileUploader.prototype.clear=function(){if(!this.mounted)return this;return this.fileUploader.dxFileUploader({value:[]}),this},WDXFileUploader.prototype.componentDidMount=function(){var _this=this,options=(this.widgetContainer=$('<div class="widget-container"></div>'),this.root.append(this.widgetContainer),this.fileUploader=$('<div id="'+this.subId("fu")+'"></div>'),this.widgetContainer.append(this.fileUploader),this.selectedFiles=$('<div class="content" id="'+this.subId("sf")+'"></div>'),this.widgetContainer.append(this.selectedFiles),this.showSelFiles&&this.selectedFiles.append("<hr>"),this.uploadURL||(this.uploadURL="upload"),{multiple:!0,accept:"*",value:[],uploadMode:"useButtons",uploadUrl:this.uploadURL,onUploaded:function(e){if(_this.handlers._onuploaded)for(var _i=0,_a=_this.handlers._onuploaded;_i<_a.length;_i++)(0,_a[_i])(e)},onValueChanged:function(e){if(_this.showSelFiles){_this.selectedFiles.find(".selected-item").remove();for(var _i=0,_a=e.value;_i<_a.length;_i++){var f=_a[_i],lmd=(lmd=f.lastModifiedDate)||new Date(f.lastModified),si='<div class="selected-item">',si=(si=(si=(si+="<span>"+WUX.buildIcon(WUX.WIcon.FILE_O)+" &nbsp;<strong>"+WUX.RES.FILE_NAME+"</strong>: "+f.name+" &nbsp;")+("<strong>"+WUX.RES.FILE_SIZE+"</strong>: "+f.size+" byte &nbsp;"))+("<strong>"+WUX.RES.FILE_TYPE+"</strong>: "+f.type+" &nbsp;"))+("<strong>"+WUX.RES.FILE_LMOD+"</strong>: "+WUX.formatDateTime(lmd,!0)+"</span>")+"</div>";_this.selectedFiles.append(si)}}}});this.fileUploader.dxFileUploader(options)},WDXFileUploader}(WUX.WComponent)),WDXTable=(WUX.WDXFileUploader=WDXTable,function(_super){function WDXMenu(id,classStyle,title){id=_super.call(this,id||"*","WDXMenu","",classStyle)||this;return id.items=[],id.title=title||"Seleziona",id.mapOfId={},id.caret='<span class="caret"></span>',id}return __extends(WDXMenu,_super),WDXMenu.prototype.addItem=function(id,icon,text,bdef){return"string"==typeof id?this.items.push({id:id,icon:icon,text:text,marked:bdef}):this.items.push(id),this},WDXMenu.prototype.addSep=function(){return this.items.push({id:"",type:"b"}),this},WDXMenu.prototype.addSection=function(name){return this.items.push({id:"",type:"s",text:name}),this},WDXMenu.prototype.onClick=function(handler){this.handler=handler},WDXMenu.prototype.componentDidMount=function(){for(var _this=this,dxitems=(null==this.title&&(this.title=""),[]),i=-1,beginGroup=!(this.mapOfId={}),_i=0,_a=this.items;_i<_a.length;_i++){var dxitem,item=_a[_i];"b"==item.type||"s"==item.type?beginGroup=!0:(dxitem=void 0,dxitem=item.icon?item.marked?{text:'<strong><i class="fa '+item.icon+'"></i> '+item.text+"</strong>"}:{text:'<i class="fa '+item.icon+'"></i> '+item.text}:item.marked?{text:"<strong>"+item.text+"</strong>"}:{text:item.text},beginGroup=beginGroup&&!(dxitem.beginGroup=!0),dxitems.push(dxitem),i++,this.mapOfId[i]=item.id)}this.caret?this.mtitle=this.title+" "+this.caret:this.mtitle=this.title,this.root.dxMenu({items:[{text:this.mtitle,items:dxitems}],animation:null,itemTemplate:function(item){return item.text},showFirstSubmenuMode:"onClick",onItemClick:function(e){WUX.WUtil.getString(e.itemData,"text")!=_this.mtitle&&_this.handler&&(e={key:_this.mapOfId[e.itemIndex],data:_this.data},_this.handler(e))}})},WDXMenu}(WUX.WComponent)),WDXTable=(WUX.WDXMenu=WDXTable,function(_super){function WDXCalendar(id,props,classStyle,style){id=_super.call(this,id||"*","WDXCalendar",props=void 0===props?"month":props,classStyle,style)||this;return id.rootTag="div",id}return __extends(WDXCalendar,_super),Object.defineProperty(WDXCalendar.prototype,"min",{get:function(){return this._min},set:function(d){this._min=d,this.root&&this.root.length&&(d={min:this._min},this.root.dxCalendar(d))},enumerable:!1,configurable:!0}),Object.defineProperty(WDXCalendar.prototype,"max",{get:function(){return this._max},set:function(d){this._max=d,this.root&&this.root.length&&(d={max:this._max},this.root.dxCalendar(d))},enumerable:!1,configurable:!0}),WDXCalendar.prototype.onDoubleClick=function(h){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(h)},WDXCalendar.prototype.cellTemplate=function(f){this._template=f,this.root&&this.root.length&&(f={cellTemplate:this._template},this.root.dxCalendar(f))},WDXCalendar.prototype.refresh=function(){return this.mounted&&this.root&&this.root.length&&(this.root.dxCalendar({cellTemplate:"cell"}),opt={},this._template&&(opt.cellTemplate=this._template,this.root.dxCalendar(opt))),this;var opt},WDXCalendar.prototype.repaint=function(){return this.mounted&&this.root&&this.root.length&&this.root.dxCalendar("instance").repaint(),this},WDXCalendar.prototype.updateProps=function(nextProps){_super.prototype.updateProps.call(this,nextProps),this.props||(this.props="month"),this.root&&this.root.length&&(nextProps={zoomLevel:this.props},this.root.dxCalendar(nextProps))},WDXCalendar.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&this.root.length&&(nextState={value:this.state},this.dontTrigger=!0,this.root.dxCalendar(nextState))},WDXCalendar.prototype.beforeInit=function(opt){},WDXCalendar.prototype.componentDidMount=function(){var _this=this,opt=(this.props||(this.props="month"),{value:new Date,disabled:!1,firstDayOfWeek:1,zoomLevel:this.props,minZoomLevel:this.props,maxZoomLevel:this.props,onValueChanged:function(e){_this.trigger("statechange",WUX.WUtil.toDate(e.value))},onOptionChanged:function(e){_this.trigger("propschange",WUX.WUtil.toString(e.value))},min:this._min,max:this._max,cellTemplate:this._template}),_self=(this._template?opt.cellTemplate=this._template:opt.cellTemplate="cell",this.beforeInit(opt),this.root.dxCalendar(opt),this);this.root.on("dblclick","tbody td",function(e){if(_self.handlers._doubleclick)for(var _i=0,_a=_self.handlers._doubleclick;_i<_a.length;_i++)(0,_a[_i])({element:_self.root})})},WDXCalendar}(WUX.WComponent)),WDXTable=(WUX.WDXCalendar=WDXTable,function(_super){function WDxCircularGauge(id){id=_super.call(this,id||"*","WDxCircularGauge")||this;return id.height=175,id.ranges=[{startValue:-100,endValue:-80,color:"red"},{startValue:-80,endValue:-60,color:"rgb(255, 51, 0)"},{startValue:-60,endValue:-40,color:"rgb(255, 102, 0)"},{startValue:-40,endValue:-20,color:"rgb(255, 153, 0)"},{startValue:-20,endValue:0,color:"rgb(255, 204, 0)"},{startValue:0,endValue:20,color:"rgb(255, 255, 0)"},{startValue:20,endValue:40,color:"rgb(204, 255, 0)"},{startValue:40,endValue:60,color:"rgb(153, 255, 0)"},{startValue:60,endValue:80,color:"rgb(102, 255, 0)"},{startValue:80,endValue:100,color:"rgb(51, 255, 0)"}],id.scale={startValue:-100,endValue:100,tick:{color:"#536878"},tickInterval:20,label:{indentFromTick:3}},id.geometry={startAngle:180,endAngle:360},id}return __extends(WDxCircularGauge,_super),WDxCircularGauge.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&this.root.length&&(nextState={value:this.state},this.root.dxCircularGauge(nextState))},WDxCircularGauge.prototype.beforeInit=function(opt){},WDxCircularGauge.prototype.componentDidMount=function(){this.height||(this.height=175);var rangeContainer={offset:0,ranges:this.ranges},size={height:this.height},size={scale:this.scale,size:size,geometry:this.geometry,rangeContainer:rangeContainer,value:this.state};this.beforeInit(size),this.root.dxCircularGauge(size)},WDxCircularGauge}(WUX.WComponent)),WDXTable=(WUX.WDxCircularGauge=WDXTable,function(_super){function WDxTreeView(id){return _super.call(this,id||"*","WDxTreeView")||this}return __extends(WDxTreeView,_super),WDxTreeView.prototype.getInstance=function(opt){return this.mounted?(opt&&this.root.dxTreeView(opt),this.root.dxTreeView("instance")):null},WDxTreeView.prototype.onItemClick=function(h){this.handlers._onItemClick=[h],this.mounted&&this.root.dxTreeView({onItemClick:h})},WDxTreeView.prototype.onSelectionChanged=function(h){this.handlers._onSelectionChanged=[h],this.mounted&&this.root.dxTreeView({onSelectionChanged:h})},WDxTreeView.prototype.onItemRendered=function(h){this.handlers._onItemRendered=[h],this.mounted&&this.root.dxTreeView({onItemRendered:h})},WDxTreeView.prototype.getSelectedItems=function(){if(!this.mounted)return[];var n=this.root.dxTreeView("instance").getSelectedNodes();return n?n.map(function(node){return node.itemData}):[]},WDxTreeView.prototype.off=function(events){if(_super.prototype.off.call(this,events),!events)return this;var opt={};return 0<=events.indexOf("_onItemClick")&&(opt.onItemClick=null),0<=events.indexOf("_onSelectionChanged")&&(opt.onSelectionChanged=null),0<=events.indexOf("_onItemRendered")&&(opt.onItemRendered=null),this.root.dxTreeView(opt),this},WDxTreeView.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&this.root.length&&this.root.dxTreeView({items:nextState})},WDxTreeView.prototype.updateProps=function(nextProps){_super.prototype.updateProps.call(this,nextProps),this.mounted&&this.props&&this.root.dxTreeView("instance").option("searchMode",this.props)},WDxTreeView.prototype.beforeInit=function(opt){},WDxTreeView.prototype.componentDidMount=function(){var opt={height:this.height,width:this.width,searchEnabled:this.searchEnabled,items:this.state},opt=("multiple"==this.selectionMode&&(opt.selectionMode="multiple",opt.showCheckBoxesMode="normal"),this.handlers._onItemClick&&this.handlers._onItemClick.length&&(opt.onItemClick=this.handlers._onItemClick[0]),this.handlers._onSelectionChanged&&this.handlers._onSelectionChanged.length&&(opt.onSelectionChanged=this.handlers._onSelectionChanged[0]),this.handlers._onItemRendered&&this.handlers._onItemRendered.length&&(opt.onItemRendered=this.handlers._onItemRendered[0]),this.beforeInit(opt),this.root.dxTreeView(opt));this.props&&opt.option("searchMode",this.props)},WDxTreeView}(WUX.WComponent));WUX.WDxTreeView=WDXTable}(WUX=WUX||{});